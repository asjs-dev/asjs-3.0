"use strict";var trace=console.log;var trc=trace;try{trc("")}catch(e){console.log(e);trace=function(){}};trc=trace;console.clear();var _d=document;var _w=window;var _m=Math;var isDocumentComplete=function(){return _d.readyState==="complete"};var idc=isDocumentComplete;var is=function(a,b){return a instanceof b};var tis=function(a,b){return typeof a===b};var empty=function(a){try{return a===undefined||a===null||a===""||a.length===0}catch(e){return!0}};var emp=empty;var padStart=function(v,l){return String(v/_m.pow(10,!emp(l)?l:2)).substr(2)};var ps=padStart;var between=function(a,b,c){return _m.max(a,_m.min(b,c))};var bw=between;var property=function(t,n,v){v.enumerable=!0;v.configurable=!0;Object.defineProperty(t,n,v)};var prop=property;var get=function(t,n,v){prop(t,n,{get:v})};var g=get;var set=function(t,n,v){prop(t,n,{set:v})};var s=set;var constant=function(t,n,v){prop(t,n,{value:v})};var cnst=constant;var message=function(t,n){try{cnst(t,n,"e"+Date.now()+""+message.id++)}catch(e){trc("ERROR",n)}};message.id=0;var msg=message;var readOnlyFunction=cnst;var rof=readOnlyFunction;var placeholderFunction=function(){};var phf=placeholderFunction;var animationFrameFunction=function(callback){return function(){var h=arguments;requestAnimationFrame(function(){callback.apply(this,h)})}};var aff=animationFrameFunction;var throttleFunction=function(callback){var u;return function(){clearTimeout(u);var h=arguments;u=setTimeout(callback.bind(this,h),1)}};var tf=throttleFunction;var map=function(o,cb){for(var k in o){if(!o.hasOwnProperty(k))continue;var v=cb(k,o[k]);if(!emp(v))o[k]=v}};var iterateOver=function(o,cb,ccb){if(emp(o))return b();var a=Object.keys(o);var k;var i=-1;function b(){ccb&&ccb()};function n(){i++;if(i===a.length){b();return};k=a[i];if(o.hasOwnProperty&&!o.hasOwnProperty(k))n();var c;try{c=o[k]}catch(e){};var v=cb(k,c,n,b);if(!emp(v))o[k]=v};n()};var ito=iterateOver;var extendProperties=function(t){var s={};for(var k in t){if(["$n","constructor"].indexOf(k)===-1){var m=Object.getOwnPropertyDescriptor(t,k);if(!m)continue;if(m.writable)s[k]=t[k];else prop(s,k,m)}};return s};var extProps=extendProperties;var destructObject=function(t,r){var r=r||[];ito(t,function(d,j,o){var A=tis(j,"object");if(!A||r.indexOf(j)===-1){r.push(j);A&&destObj(j,r);destCls(j);del(t,d)};o()});r=t=null};var destObj=destructObject;var destructClass=function(t){t&&t.destruct&&t.destruct()};var destCls=destructClass;var emptyFunction=function(){};var ef=emptyFunction;var deleteProperty=function(t,p){var m=Object.getOwnPropertyDescriptor(t,p);if(m&&(m.get||m.set))prop(t,p,{set:ef,get:ef});else{try{t[p]=null}catch(e){}};delete t[p]};var del=deleteProperty;var dataMapper=function(data,objectType){var w=new objectType();map(data,function(d){w[d]=data[d]});return w};var dm=dataMapper;var createClass=function(nameSpace,e,g,f,singleton){function p(e,g,f,h){if(!this.$n)this.$n=[];this.$n.push(e);g.apply(this,h);var s=extProps(this);if(f)f.apply(this,[this,s]);if(this.$n[0]===e){del(this,"$n");if(this.new){this.new.apply(this,h);del(this,"new")};del(this,"protected");del(this,"prot")}};var x=Function("var a=arguments;var name=a[0];var base=a[1];var body=a[2];var setup=a[3];var "+e+"=function(){setup.apply(this,[name,base,body,arguments])};"+e+".prototype=Object.create(base.prototype);"+e+".prototype.constructor="+e+";return "+e+";")(e,g,f,p);var q=x;if(singleton){var y={};get(y,"instance",function(){if(!x.instance){x.instance=new x();x.instance.destruct=function(){}};return x.instance});q=y};cnst(nameSpace,e,q)};var c0=createClass;var createSingletonClass=function(nameSpace,e,g,f){c0(nameSpace,e,g,f,!0)};var c1=createSingletonClass;var createNamedObject=function(e,parent){var t=extProps(parent);t.name=e;return t};var c2=createNamedObject;var createUtility=function(nameSpace,e){cnst(nameSpace,e,{})};var c3=createUtility;var resolvePath=function(basePath,path){var B=basePath.split("/");emp(B[B.length-1])&&B.pop();var z=path.split("/");emp(z[z.length-1])&&z.pop();if([".",".."].indexOf(z[0])===-1)return path;var i=-1;var l=z.length;while(++i<l){if(z[i]==="..")B.pop();else if(z[i]!==".")B.push(z[i])};return B.join("/")};var stage;cnst(this,"ASJS",(function(){var l={};trc("<AS/JS> core version: 4.0.0.200406210853");l.start=function(F,e){idc()?i(F,e):_d[on]("readystatechange",function x(){idc()&&i(F,e)&&_d[off]("readystatechange",x)})};function i(F,e){ASJS.Polyfill.instance;if(!stage)stage=ASJS.Stage.instance;var p=stage;if(e){if(is(e,ASJS.Sprite))p=e;if(is(e,Element))p=new ASJS.Sprite(e)};try{var c=new F();is(c,ASJS.Tag)&&p.addChild(c)}catch(e){trc(e)}};return l})());cnst(_w,"on","addEventListener");cnst(_w,"off","removeEventListener");cnst(_w,"offAll","removeEventListeners");cnst(_w,"de","dispatchEvent");cnst(_w,"has","hasEventListener");var stage;c1(ASJS,"Importer",Object,function(l){var g={};cnst(g,"REQUIRE_REGEX",/require\((\"[^\"]*\"|\'[^\']*\')\)\;/gm);var y=Date.now();var E="";var J=[];l.sourcePath=function(v){E=v};l.require=function(w,A,D,C){var a=new ASJS.Promise();A=A||_d.baseURI+E;var h=s(A,w);if(J.has(h))a.resolve();else{J.push(h);var o=new ASJS.Loader();o.compressed=C;o.load(h+"?"+y).then(function(){I(o).finally(function(r){o.destruct();o=null;a.resolve(r);if(!D)Function(r)()})})};return a};function s(t,B){var w=B.substr(B.lastIndexOf("/")+1);var H=B.substr(0,B.lastIndexOf("/"));var G=resolvePath(t,H);return[G,w].join("/")};function I(o){var a=new ASJS.Promise();var n="";var d=o.url;var r=o.content;var u=d.substr(0,d.lastIndexOf("/"));var m;var z=[];while((m=g.REQUIRE_REGEX.exec(r))!==null)z.push(m);ito(z,function(k,j,f,b){var h=j[1].substr(1,j[1].length-2);r=r.replace(j[0],"");require(h,u,!0).finally(function(K){n+=K;f()})},function(){a.resolve(n+r)});return a};return l});var sourcePath=ASJS.Importer.instance.sourcePath;var require=ASJS.Importer.instance.require;c0(ASJS,"BaseClass",Object,function(l,q){l.new=function(){};l.protected={};l.prot=l.protected;l.destruct=function(){destObj(l);destObj(q);l=q=null};l.toObject=function(){return JSON.parse(JSON.stringify(l))}});c1(ASJS,"Polyfill",ASJS.BaseClass,function(v){var F=['ms','moz','webkit','o'];var bl=0;var bd={};var y;var Y=!1;var bj={"visibilitychange":"","hidden":""};var X="";var ba="";var m={};var W=0;v.new=function(){P();Z();bb();be();bk();U();bg();V();D();bo();bf();bc();T();O();M();bi();J()};get(v,"isLittleEndian",function(){return Y});get(v,"visibilitychange",function(){return bj.visibilitychange});get(v,"documentHidden",function(){return _d[bj.hidden]});get(v,"stylePrefixJS",function(){return X});get(v,"stylePrefixCSS",function(){return ba});get(v,"scrollBarSize",function(){return W});function bh(E){var u=++bl;if(!bd[u]){bd[u]=E;return u};return-1};function bn(E){bp(bm(E))};function bp(g){del(bd,g)};function bm(E){var g=-1;map(bd,function(i,o){if(o===E)g=i});return g};function P(){if(typeof Worker!=="undefined"){try{y=new Worker("data:text/javascript;charset=US-ASCII,setInterval(function(){postMessage(\"tick\")},1);");y.onmessage=function(){map(bd,function(i,o){o()})}}catch(e){y=null}}};function Z(){if(y){_w.setTimeout=function(E,Q){var t=Date.now();var S=function(){if(Date.now()-t>=Q){bn(S);E()}};return bh(S)};_w.clearTimeout=bp;_w.setInterval=function(E,Q){var t=Date.now();var S=function(){var n=Date.now();if(n-t>=Q){t=n;E()}};return bh(S)};_w.clearInterval=bp}};function bb(){if(typeof _d.hidden!=="undefined"){bj.hidden="hidden";bj.visibilitychange="visibilitychange"}else if(typeof _d.msHidden!=="undefined"){bj.hidden="msHidden";bj.visibilitychange="msvisibilitychange"}else if(typeof _d.webkitHidden!=="undefined"){bj.hidden="webkitHidden";bj.visibilitychange="webkitvisibilitychange"}};function be(){if(tis(_w.CustomEvent,"function"))return!1;trc("window.CustomEvent is not supported, but replaceable");function CustomEvent(h,p){p=p||{bubbles:!0,cancelable:!0,detail:undefined};if(emp(p.bubbles))p.bubbles=!0;var e=_d.createEvent('CustomEvent');e.initCustomEvent(h,p.bubbles,p.cancelable,p.detail);return e};CustomEvent.prototype=_w.Event.prototype;_w.CustomEvent=CustomEvent};function bk(){var H=0;for(var x=0;x<F.length&&!_w.requestAnimationFrame;++x){_w.requestAnimationFrame=_w[F[x]+'RequestAnimationFrame'];_w.cancelAnimationFrame=_w[F[x]+'CancelAnimationFrame']||_w[F[x]+'CancelRequestAnimationFrame']};if(!_w.requestAnimationFrame){trc("window.requestAnimationFrame is not supported, but replaceable");_w.requestAnimationFrame=function(E,B){var G=new Date().getTime();var L=_m.max(0,16-(G-H));var g=_w.setTimeout(function(){E(G+L)},L);H=G+L;return g}};var k=_w.requestAnimationFrame;_w.requestAnimationFrame=function(E){if(v.documentHidden)return _w.setTimeout(E,1);return k(E)};if(!_w.cancelAnimationFrame){trc("window.cancelAnimationFrame is not supported, but replaceable");_w.cancelAnimationFrame=_w.clearTimeout}};function U(){if(!_w.navigator)_w.navigator=navigator;if(!_w.navigator)trc("window.navigator is not supported!")};function bg(){if(!_w.AudioContext)_w.AudioContext=_w.webkitAudioContext;if(!_w.AudioContext)trc("window.AudioContext is not supported!")};function V(){for(var x=0;x<F.length&&!_w.navigator.getUserMedia;++x){_w.navigator.getUserMedia=_w.navigator[F[x]+'GetUserMedia']};if(!_w.navigator.getUserMedia)trc("window.navigator.getUserMedia is not supported!")};function D(){if(!_w.URL)_w.URL=_w.webkitURL;if(!_w.URL)trc("window.URL is not supported!")};function bo(){var j;var w;var l={w3:{fullscreen:"fullScreen",enabled:"fullscreenEnabled",B:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{fullscreen:"webkitFullScreen",enabled:"webkitFullscreenEnabled",B:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{fullscreen:"mozFullScreen",enabled:"mozFullScreenEnabled",B:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{fullscreen:"msFullScreen",enabled:"msFullscreenEnabled",B:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}};var f=l.w3;for(w in l){if(l[w].enabled in _d){j=l[w];break}};if(!(f.enabled in _d)&&j){_d["fullscreenEnabled"]=_d[j.enabled];_d["fullscreen"]=_d[j.fullscreen];_d["fullscreenElement"]=_d[j.element];_d["exitFullscreen"]=_d[j.exit];Element.prototype.requestFullscreen=Element.prototype[j.request]}};function bf(){if(bf.name&&tis(bf.name,"string"))return;prop(Function.prototype,"name",{get:function(){var z=v.toString().match(/^function\s*([^\s(]+)/);if(z)return z[1];return null}})};function bc(){if(!_w.MediaSource)_w.MediaSource=_w.WebKitMediaSource;if(!_w.MediaSource)trc("window.MediaSource is not supported!")};function T(){var I={Webkit:'-webkit-',Moz:'-moz-',ms:'-ms-',O:'-o-'};var q=_d.createElement('p').style;var C='Transform';for(var i in I){if((i+C)in q){X=i;ba=I[i];break}};if(X==='Webkit'&&'msHyphens'in q){X='ms';ba=I.ms}};function O(){var b=new ArrayBuffer(4);var a=new Uint32Array(b);var c=new Uint8Array(b);a[0]=0xdeadbeef;Y=c[0]==0xef};function M(){Array.prototype.has=function(o){return this.indexOf(o)>-1};Array.prototype.remove=function(o){var r=this.indexOf(o);r>-1&&this.splice(r,1)}};function bi(){var d=_d;var R=20;var K=d.createElement("div");K.style.width=K.style.height=R+"px";K.style.overflow="auto";var A=d.createElement("div");A.style.width="100%";A.style.height=(R+1)+"px";K.appendChild(A);d.body.appendChild(K);W=R-A.offsetWidth;d.body.removeChild(K);K.removeChild(A);K=A=null};function J(){_m.sign=_m.sign||function(x){return((x>0)-(x<0))||+x}}});cnst(ASJS.Polyfill,"SCROLL_SIZE",-20);cnst(ASJS.Polyfill,"SCROLL_DELTA",{"X":{"1":-20,"2":0},"Y":{"1":0,"2":-20}});rof(ASJS.Polyfill,"getScrollData",function(s){return new ASJS.Point(s.wheelDeltaX||s.deltaX||(s.detail*ASJS.Polyfill.SCROLL_DELTA.X[s.axis]),s.wheelDeltaY||s.deltaY||(s.detail*ASJS.Polyfill.SCROLL_DELTA.Y[s.axis]))});c3(ASJS,"AnimationEvent");cnst(ASJS.AnimationEvent,"ANIMATION_START","animationstart webkitAnimationStart");cnst(ASJS.AnimationEvent,"ANIMATION_ITERATION","animationiteration webkitAnimationIteration");cnst(ASJS.AnimationEvent,"ANIMATION_END","animationend webkitAnimationEnd");cnst(ASJS.AnimationEvent,"TRANSITION_END","transitionend webkitTransitionEnd");c3(ASJS,"KeyboardEvent");cnst(ASJS.KeyboardEvent,"KEY_UP","keyup");cnst(ASJS.KeyboardEvent,"KEY_DOWN","keydown");cnst(ASJS.KeyboardEvent,"KEY_PRESS","keypress");c0(ASJS,"EventDispatcher",ASJS.BaseClass,function(f,h){var m=ASJS.Polyfill.instance;var n={};f.dispatchEvent=function(c,a,g){if(!n||!c)return;var e=ASJS.EventDispatcher.createEvent(c,a,g);if(f.el){f.el[de](e);return};if(!f[has](e.type))return;map(n[e.type],function(r,q){q(e)})};f.addEventListener=function(b,j){var d=p(b);map(d,function(o,k){if(k!==""&&!f[has](k,j)){if(!n[k])n[k]=[];n[k].push(j);f.el&&f.el[on](k,j,!0)}})};f.removeEventListeners=function(){map(n,function(r,q){f[off](r)});n={}};f.removeEventListener=function(b,j){var d=p(b);map(d,function(o,k){if(k!==""&&f[has](k,j)){var l=n[k];var i=l.length;while(i--){var q=l[i];if(!j||q===j){n[k].remove(q);f.el&&f.el[off](k,q,!0)}};n[k].length===0&&del(n,k)}})};f.hasEventListener=function(b,j){var d=p(b);var i=d.length;while(i--){var t=d[i];if(t!==""&&n[t]&&n[t].length>0&&(!j||n[t].has(j)))return!0};return!1};f.destruct=function(){f.removeEventListeners&&f[offAll]();m=n=null;h.destruct()};function p(b){return tis(b,"object")?b:b.split(" ")}});rof(ASJS.EventDispatcher,"createEvent",function(c,a,g){return!tis(c,"string")?c:new CustomEvent(c,{detail:a,cancelable:!0,bubbles:emp(g)?!0:g})});c3(ASJS,"MouseEvent");cnst(ASJS.MouseEvent,"SCROLL","DOMMouseScroll scroll");cnst(ASJS.MouseEvent,"WHEEL","DOMMouseScroll mousewheel");cnst(ASJS.MouseEvent,"CLICK","click");cnst(ASJS.MouseEvent,"DOUBLE_CLICK","dblclick");cnst(ASJS.MouseEvent,"MOUSE_DOWN","mousedown");cnst(ASJS.MouseEvent,"MOUSE_UP","mouseup");cnst(ASJS.MouseEvent,"MOUSE_LEAVE","mouseleave");cnst(ASJS.MouseEvent,"MOUSE_ENTER","mouseenter");cnst(ASJS.MouseEvent,"MOUSE_MOVE","mousemove");cnst(ASJS.MouseEvent,"MOUSE_OVER","mouseover");cnst(ASJS.MouseEvent,"MOUSE_OUT","mouseout");cnst(ASJS.MouseEvent,"TOUCH_START","touchstart");cnst(ASJS.MouseEvent,"TOUCH_END","touchend");cnst(ASJS.MouseEvent,"TOUCH_MOVE","touchmove");cnst(ASJS.MouseEvent,"TOUCH_CANCEL","touchcancel");cnst(ASJS.MouseEvent,"CONTEXT_MENU","contextmenu");cnst(ASJS.MouseEvent,"SELECT_START","onselectstart");c3(ASJS,"FocusEvent");cnst(ASJS.FocusEvent,"FOCUS","focus");cnst(ASJS.FocusEvent,"BLUR","blur");c3(ASJS,"Event");cnst(ASJS.Event,"CHANGE","change");cnst(ASJS.Event,"INPUT","input");c3(ASJS,"WindowEvent");cnst(ASJS.WindowEvent,"POPSTATE","popstate");cnst(ASJS.WindowEvent,"RESIZE","resize");cnst(ASJS.WindowEvent,"ONLINE","online");cnst(ASJS.WindowEvent,"OFFLINE","offline");cnst(ASJS.WindowEvent,"MESSAGE","message");c3(ASJS,"DocumentEvent");cnst(ASJS.DocumentEvent,"DOM_SUBTREE_MODIFIED","DOMSubtreeModified");cnst(ASJS.DocumentEvent,"READY_STATE_CHANGE","readystatechange");cnst(ASJS.DocumentEvent,"DOM_CONTENT_LOADED","DOMContentLoaded");c3(ASJS,"MediaEvent");cnst(ASJS.MediaEvent,"ABORT","abort");cnst(ASJS.MediaEvent,"CAN_PLAY","canplay");cnst(ASJS.MediaEvent,"CAN_PLAY_THROUGH","canplaythrough");cnst(ASJS.MediaEvent,"DURATION_CHANGE","durationchange");cnst(ASJS.MediaEvent,"EMPTIED","emptied");cnst(ASJS.MediaEvent,"ENDED","ended");cnst(ASJS.MediaEvent,"ERROR","error");cnst(ASJS.MediaEvent,"LOADED_DATA","loadeddata");cnst(ASJS.MediaEvent,"LOADED_META_DATA","loadedmetadata");cnst(ASJS.MediaEvent,"LOAD_START","loadstart");cnst(ASJS.MediaEvent,"PAUSE","pause");cnst(ASJS.MediaEvent,"PLAY","play");cnst(ASJS.MediaEvent,"PLAYING","playing");cnst(ASJS.MediaEvent,"PROGRESS","progress");cnst(ASJS.MediaEvent,"RATE_CHANGE","ratechange");cnst(ASJS.MediaEvent,"SEEKED","seeked");cnst(ASJS.MediaEvent,"SEEKING","seeking");cnst(ASJS.MediaEvent,"STALLED","stalled");cnst(ASJS.MediaEvent,"SUSPEND","suspend");cnst(ASJS.MediaEvent,"TIME_UPDATE","timeupdate");cnst(ASJS.MediaEvent,"VOLUME_CHANGE","volumechange");cnst(ASJS.MediaEvent,"WAITING","waiting");c3(ASJS,"LoaderEvent");cnst(ASJS.LoaderEvent,"ERROR","error");cnst(ASJS.LoaderEvent,"ABORT","abort");cnst(ASJS.LoaderEvent,"LOAD_START","loadstart");cnst(ASJS.LoaderEvent,"PROGRESS","progress");cnst(ASJS.LoaderEvent,"LOAD","load");cnst(ASJS.LoaderEvent,"LOAD_END","loadend");cnst(ASJS.LoaderEvent,"TIMEOUT","timeout");cnst(ASJS.LoaderEvent,"READY_STATE_CHANGE","readystatechange");c3(ASJS,"FileDragAndDropEvent");cnst(ASJS.FileDragAndDropEvent,"DRAG_OVER","dragover");cnst(ASJS.FileDragAndDropEvent,"DRAG_END","dragend");cnst(ASJS.FileDragAndDropEvent,"DROP","drop");cnst(ASJS.FileDragAndDropEvent,"DRAG","drag");cnst(ASJS.FileDragAndDropEvent,"DRAG_ENTER","dragenter");cnst(ASJS.FileDragAndDropEvent,"DRAG_EXIT","dragexit");cnst(ASJS.FileDragAndDropEvent,"DRAG_LEAVE","dragleave");cnst(ASJS.FileDragAndDropEvent,"DRAG_START","dragstart");c1(ASJS,"NotificationHandler",ASJS.BaseClass,function(c){var f={};c.add=function(a,d){if(!a||!d)return;if(f[a]&&f[a].has(d))return;if(!f[a])f[a]=[];f[a].push(d)};c.remove=function(a,d){a&&d&&f[a]&&f[a].remove(d)};c.sendNotification=function(a,b){var e=f[a];if(!e)return;map(e,function(h,g){g(b,a)})}});c0(ASJS,"NotificationDispatcher",ASJS.BaseClass,function(a,b){var c=ASJS.NotificationHandler.instance;b.prot.sendNotification=c.sendNotification;b.prot.addHandler=c.add;b.prot.removeHandler=c.remove;a.destruct=function(){c=null;b.destruct()}});c0(ASJS,"AbstractModel",ASJS.EventDispatcher,function(h){var a={};cnst(a,"PREFIX","ASJS-AbstractModel-");var d={};prop(h,"data",{get:function(){return d},set:function(v){d=v;h[de](ASJS.AbstractModel.CHANGED)}});h.get=function(k){return d&&!emp(d[k])?d[k]:null};h.set=function(k,v){if(!d)d={};var o=d[k];d[k]=v;h[de](ASJS.AbstractModel.CHANGED);h[de](a.PREFIX+k,[o,v])};h.clear=function(){d=null;h[de](ASJS.AbstractModel.CLEARED)};h.watch=function(k,l){h[on](a.PREFIX+k,l)};h.merge=function(b){e(d,b)};function e(f,g){map(g,function(k,c){tis(f[k],"object")?e(f[k],c):f[k]=c})}});msg(ASJS.AbstractModel,"CHANGED");msg(ASJS.AbstractModel,"CLEARED");ASJS.AbstractMediator=ASJS.NotificationDispatcher;c0(ASJS,"Point",ASJS.BaseClass,function(a){a.new=function(x,y){a.x=tis(x,"number")?x:0;a.y=tis(y,"number")?y:0}});c0(ASJS,"Rectangle",ASJS.Point,function(a,b){a.new=function(x,y,w,h){b.new(x,y);a.width=tis(w,"number")?w:0;a.height=tis(h,"number")?h:0}});c3(ASJS,"GeomUtils");cnst(ASJS.GeomUtils,"THETA",_m.PI/180);rof(ASJS.GeomUtils,"pointInOrigo",function(e){return e.x===0&&e.y===0});rof(ASJS.GeomUtils,"twoPointDistance",function(l,m){return _m.sqrt(_m.pow(m.x-l.x,2)+_m.pow(m.y-l.y,2))});rof(ASJS.GeomUtils,"pointInRect",function(e,d){return e.x>=d.x&&e.x<=d.x+d.width&&e.y>=d.y&&e.y<=d.y+d.height});rof(ASJS.GeomUtils,"twoPointEquals",function(l,m){return l.x===m.x&&l.y===m.y});rof(ASJS.GeomUtils,"twoPointAngle",function(l,m){var b=l.x*m.x+l.y*m.y;var c=l.x*m.y-l.y*m.x;var k=_m.atan2(c,b);return k/ASJS.GeomUtils.THETA});rof(ASJS.GeomUtils,"twoRectsIntersect",function(j,h){var o=new ASJS.Rectangle();o.x=_m.max(j.x,h.x);o.y=_m.max(j.y,h.y);o.width=_m.abs(_m.min((j.x+j.width)-o.x,(h.x+h.width)-o.x));o.height=_m.abs(_m.min((j.y+j.height)-o.y,(h.y+h.height)-o.y));var w=ASJS.GeomUtils.rectInRect(o,j)&&ASJS.GeomUtils.rectInRect(o,h);o.destruct();o=null;return w});rof(ASJS.GeomUtils,"rectInRect",function(j,h){return j.x>=h.x&&j.y>=h.y&&j.x+j.width<=h.x+h.width&&j.y+j.height<=h.y+h.height});rof(ASJS.GeomUtils,"localToGlobal",function(n,e){var a=new ASJS.Point(e.x,e.y);var f=n;while(f){a.x*=f.scaleX;a.y*=f.scaleY;a.x+=f.x;a.y+=f.y;f=f.parent};return a});rof(ASJS.GeomUtils,"globalToLocal",function(n,e){var a=new ASJS.Point(e.x,e.y);var f=n;var p=[f];while(f=f.parent)p.unshift(f);var i=0;while(f=p[++i]){a.x-=f.x;a.y-=f.y;a.x/=f.scaleX;a.y/=f.scaleY};return a});rof(ASJS.GeomUtils,"hitTest",function(n,e){var t=-n.rotation*ASJS.GeomUtils.THETA;var d=n.bounds;var q=n.localToGlobal(new ASJS.Point(0,0));var r=new ASJS.Point(e.x-(q.x+d.width*0.5),e.y-(q.y+d.height*0.5));var v=new ASJS.Point(r.x*_m.cos(t)-r.y*_m.sin(t),r.x*_m.sin(t)+r.y*_m.cos(t));var u=new ASJS.Point(e.x-(r.x-v.x),e.y-(r.y-v.y));var s=n.globalToLocal(u);var g=s.x>=0&&s.y>=0&&s.x<=d.width&&s.y<=d.height;q.destruct();r.destruct();v.destruct();u.destruct();s.destruct();d=q=r=v=u=s=null;return g});c1(ASJS,"Mouse",ASJS.BaseClass,function(b){var f=new ASJS.Point();get(b,"mouseX",function(){return f.x});get(b,"mouseY",function(){return f.y});b.show=function(){stage.removeCSS("cursor")};b.hide=function(){stage.setCSS("cursor","none")};b.getRelativePosition=function(c){return c.globalToLocal(f)};b.init=function(){_w[on]("mousemove",g);_w[on]("touchmove",g)};function g(e){var h=e.touches;var i=e.originalEvent?e.originalEvent.touches:null;var d=h||i;var a=e;if(d&&d.length>0)a=d[0];f.x=a.pageX;f.y=a.pageY}});c1(ASJS,"Head",ASJS.BaseClass,function(c){var d=[];var a=_d.head;get(c,"el",function(){return _head});get(c,"numChildren",function(){return d.length});c.addChild=function(b){if(!b)return null;b.parent&&b.parent.removeChild(b);d.push(b);a.appendChild(b.el);b.parent=c;return b};c.removeChild=function(b){if(!b)return null;a.removeChild(b.el);d.remove(b);b.parent=null;return b};c.contains=function(b){return c.getChildIndex(b)>-1};c.getChildIndex=function(b){return!b?-1:d.indexOf(b)}});c1(ASJS,"CSS",ASJS.BaseClass,function(h){var e=ASJS.Head.instance;var c={};var q;var o;h.new=w;get(h,"styles",function(){return o});h.getRuleBySelector=function(s){var i=o.length;while(i--){var d=o[i].rule;if(d.selectorText===s)return d};return null};h.getRuleExists=function(s){return!emp(h.getRuleBySelector(s))};h.getPropertyFromRule=function(s,t){var r=h.getRuleBySelector(s);return!r?null:r.style[t]};h.setPropertyToRule=function(s,t,v){var r=h.getRuleBySelector(s);if(!r)return;r.style[t]=v;w()};h.addRule=function(s,t){if(h.getRuleBySelector(s))return;x();q.el.sheet.insertRule(s+"{"+(t||"")+"}",0);w()};h.removeRule=function(s){var m=p();var i=-1;var d;while(d=o[++i]){if(d.rule.selectorText===s){m[d.id].deleteRule(d.ruleId);w();return}}};function w(){var m=p();var i=-1;o=[];while(++i<m.length){var f=m[i].cssRules;var j=-1;while(++j<f.length)o.push(new c.Rule(i,j,f[j]))}};function p(){return _d.styleSheets};function u(){return q};function x(){if(u())return;q=new ASJS.Tag("style");q.setAttr("type","text/css");e.addChild(q)};c0(c,"Rule",ASJS.BaseClass,function(h){h.sheetId;h.ruleId;h.rule;h.new=function(n,g,d){h.sheetId=n;h.ruleId=g;h.rule=d}})});cnst(ASJS.CSS,"ADD_PIXEL_TYPES",["width","min-width","max-width","height","min-height","max-height","top","bottom","left","right","margin","margin-top","margin-bottom","margin-left","margin-right","padding","padding-top","padding-bottom","padding-left","padding-right","font-size","border-size"]);cnst(ASJS.CSS,"SELECTOR",['fullscreen','placeholder']);cnst(ASJS.CSS,"VALUE",['gradient','intrinsic','pixelated','image-set','cross-fade','flex-values','display-flex','display-grid','filter-value']);rof(ASJS.CSS,"replaceHyphen",function(s){return s.replace(/-./g,function(v){return v.replace("-","").toUpperCase()})});rof(ASJS.CSS,"convertProperty",function(k){var b=ASJS.Polyfill.instance.stylePrefixCSS+k;var i=-1;var l=ASJS.CSS.SELECTOR.length;while(++i<l){if(b.indexOf(":"+ASJS.CSS.SELECTOR[i])>-1){b=b.replace(":"+ASJS.CSS.SELECTOR[i],":"+ASJS.Polyfill.instance.stylePrefixCSS+ASJS.CSS.SELECTOR[i]);i=l;break}};return b});rof(ASJS.CSS,"convertValue",function(v){var i=-1;var l=ASJS.CSS.VALUE.length;while(++i<l){if(String(v).indexOf(ASJS.CSS.VALUE[i])>-1)return ASJS.Polyfill.instance.stylePrefixCSS+v};return v});rof(ASJS.CSS,"setCSS",function(t,k,v){v=tis(v,"number")&&ASJS.CSS.ADD_PIXEL_TYPES.has(k)?v+"px":v;var b=ASJS.CSS.convertProperty(k);var a=ASJS.CSS.convertValue(v);t.el.style[ASJS.CSS.replaceHyphen(k)]=v;t.el.style[ASJS.CSS.replaceHyphen(b)]=a});rof(ASJS.CSS,"getCSS",function(t,k){var v=t.el.style[ASJS.CSS.replaceHyphen(k)];if(!v){var f=_w.getComputedStyle(t.el);v=f.getPropertyValue(k)};return(ASJS.CSS.ADD_PIXEL_TYPES.has(k)&&(tis(v,"number")||v.indexOf("px")>-1)?parseFloat(v):v)||0});rof(ASJS.CSS,"removeCSS",function(t,k){t.el.style[ASJS.CSS.replaceHyphen(k)]=""});c0(ASJS,"Tag",ASJS.EventDispatcher,function(g,h){var e={};var b;var m=null;var i="created";var j=new ASJS.Rectangle();g.new=function(d){b=!d||tis(d,"string")?_d.createElement(d||"div"):d;g.setData("asjs-id","instance_"+(++ASJS.Tag.instanceId));if(b.parentElement)m=new ASJS.Sprite(b.parentElement)};prop(g,"id",{get:function(){return g.getAttr("id")},set:function(v){g.setAttr("id",v)}});prop(g,"enabled",{get:function(){return g.getAttr("disabled")!="disabled"},set:function(v){if(v){g.removeAttr("disabled");g.removeCSS("pointer-events")}else{g.setAttr("disabled","disabled");g.setCSS("pointer-events","none")}}});prop(g,"text",{get:function(){return b.textContent||b.innerText},set:function(v){b.textContent=v;b.innerText=v}});prop(g,"html",{get:function(){return b.innerHTML},set:function(v){b.innerHTML=v}});get(g,"asjsId",function(){return g.getData("asjs-id")});get(g,"el",function(){return b});get(g,"attributes",function(){return b.attributes});get(g,"bounds",function(){return j});prop(g,"parent",{get:function(){return m},set:function(v){if(emp(v)||v.getChildIndex(g)>-1){m=v;g.sendParentChangeEvent()}}});get(g,"stage",function(){return g.parent?g.parent.stage:null});g.hasClass=function(v){return g.getClassList().has(v)};g.addClass=function(v){var p=w(v);var o=g.getClassList();var n;while(n=p.shift()){!g.hasClass(n)&&o.push(n)};b.className=o.join(" ").trim()};g.removeClass=function(v){var t=w(v);var o=g.getClassList();var r;while(r=t.shift())o.remove(r);b.className=o.join(" ").trim()};g.removeClassList=function(){b.className=""};g.getClassList=function(){return b.className.split(" ")};g.getCSS=ASJS.CSS.getCSS.bind(g,g);g.setCSS=ASJS.CSS.setCSS.bind(g,g);g.removeCSS=ASJS.CSS.removeCSS.bind(g,g);g.getAttr=function(k){return b.getAttribute(k)};g.setAttr=function(k,v){b.setAttribute(k,v)};g.removeAttr=function(k){b.removeAttribute(k)};g.getData=function(k){return g.getAttr("data-"+k)};g.setData=function(k,v){g.setAttr("data-"+k,v)};g.removeData=function(k){g.removeAttr("data-"+k)};g.clear=function(){g.html="";g.text=""};g.sendParentChangeEvent=function(){var f=g.stage?ASJS.Stage.ADDED_TO_STAGE:ASJS.Stage.REMOVED_FROM_STAGE;(i!=="created"||f!==ASJS.Stage.REMOVED_FROM_STAGE)&&g[de](f,null,!1);i=f};g.destruct=function(){m&&m.removeChild&&m.removeChild(g);g.clear&&g.clear();var u=[];for(var c in g.attributes)u.push(g.attributes[c].name);for(var c in u)g.removeAttr(u[c]);destObj(b);j.destruct();j=b=m=i=null;h.destruct()};function w(q){return tis(q,"object")?q:q.split(" ")}});rof(ASJS.Tag,"cssProp",function(s,l,a){a=a||l;prop(s,l,{get:s.getCSS.bind(s,a),set:s.setCSS.bind(s,a)})});rof(ASJS.Tag,"attrProp",function(s,l,a){a=a||l;prop(s,l,{get:s.getAttr.bind(s,a),set:s.setAttr.bind(s,a)})});ASJS.Tag.instanceId=-1;c0(ASJS,"DisplayObject",ASJS.Tag,function(k,j){var o=ASJS.Mouse.instance;var z=[];var C=0;var t=1;var s=1;var n=0;var m=0;var r=new ASJS.Rectangle();k.new=function(a){j.new(a);k.tabindex=-1};get(k,"bounds",function(){r.x=k.x;r.y=k.y;r.width=k.width;r.height=k.height;return r});get(k,"mouse",function(){return o.getRelativePosition(k)});ASJS.Tag.attrProp(k,"tabindex");ASJS.Tag.attrProp(k,"tooltip");prop(k,"filters",{get:function(){return z},set:function(v){z=v;E()}});prop(k,"visible",{get:function(){return k.getCSS("display")!=="none"&&k.alpha>0},set:function(v){v?k.removeCSS("display"):k.setCSS("display","none")}});ASJS.Tag.cssProp(k,"alpha","opacity");prop(k,"x",{get:function(){return D("Left")},set:k.setCSS.bind(k,"left")});prop(k,"y",{get:function(){return D("Top")},set:k.setCSS.bind(k,"top")});prop(k,"width",{get:function(){return D("Width")},set:k.setCSS.bind(k,"width")});prop(k,"height",{get:function(){return D("Height")},set:k.setCSS.bind(k,"height")});prop(k,"rotation",{get:function(){return C},set:function(v){C=parseFloat(v);G()}});prop(k,"scaleX",{get:function(){return t},set:function(v){t=parseFloat(v);G()}});prop(k,"scaleY",{get:function(){return s},set:function(v){s=parseFloat(v);G()}});prop(k,"skewX",{get:function(){return n},set:function(v){n=parseFloat(v);G()}});prop(k,"skewY",{get:function(){return m},set:function(v){m=parseFloat(v);G()}});k.requestFullscreen=function(){_d.fullscreenEnabled&&k.el.requestFullscreen()};k.exitFullscreen=function(){_d.fullscreenEnabled&&_d.exitFullscreen()};k.scale=function(p,l){k.scaleX=p;k.scaleY=l};k.skew=function(c,d){k.skewX=c;k.skewY=d};k.move=function(x,y){k.x=x;k.y=y};k.setSize=function(w,h){k.width=w;k.height=h};k.hitTest=ASJS.GeomUtils.hitTest.bind(k,k);k.localToGlobal=ASJS.GeomUtils.localToGlobal.bind(k,k);k.globalToLocal=ASJS.GeomUtils.globalToLocal.bind(k,k);k.destruct=function(){r.destruct();r=o=z=C=t=s=n=m=null;j.destruct()};function D(b){var g=k.el["offset"+b];var u=k.getCSS(b.toLowerCase());var f=k.getCSS("margin"+b);var A=0;if(ASJS.DisplayObject.TRANSLATE_OFFSET.has(b)){var B=k.getCSS("transform");if(!ASJS.DisplayObject.EMPTY_CSS_VALUES.has(B)){var I=B.replace("matrix(","").replace(")","").split(",");A=parseFloat(I[b==="Left"?4:5])}};var H=parseFloat(u);var F=parseFloat(f);return u===H&&f===F?F+H+A:g+A};function E(){var q="";var e;var i=-1;while(e=z[++i])q+=" "+e.execute();k.setCSS("filter",q)};var G=tf(function(){k.setCSS("transform","rotate("+C+"deg) "+"scaleX("+t+") "+"scaleY("+s+") "+"skewX("+n+"deg) "+"skewY("+m+"deg) ")})});cnst(ASJS.DisplayObject,"OFFSET_TOP","Top");cnst(ASJS.DisplayObject,"OFFSET_LEFT","Left");cnst(ASJS.DisplayObject,"OFFSET_WIDTH","Width");cnst(ASJS.DisplayObject,"OFFSET_HEIGHT","Height");cnst(ASJS.DisplayObject,"TRANSLATE_OFFSET",["Left","Top"]);cnst(ASJS.DisplayObject,"POSITIONS",["absolute","fixed","sticky"]);cnst(ASJS.DisplayObject,"PARENT_POSITIONS",["",0,"unset","static","inherit","initial"]);cnst(ASJS.DisplayObject,"EMPTY_CSS_VALUES",["",0,"none"]);c0(ASJS,"Sprite",ASJS.DisplayObject,function(e,h){var m=[];var r=!0;var j=!1;h.prot.lock=function(){j=!0};h.prot.unlock=function(){j=!1};get(e,"bounds",function(){var b=h.bounds;var a=new ASJS.Rectangle();var i=e.numChildren;while(i--){var c=e.getChildAt(i);var l=c.bounds;if(i===0){a.x=l.x;a.y=l.y;a.width=l.width+l.x;a.height=l.height+l.y}else{if(l.x<a.x)a.x=l.x;if(l.y<a.y)a.y=l.y;if(l.width+l.x>a.width)a.width=l.width+l.x;if(l.height+l.y>a.height)a.height=l.height+l.y}};b.x+=a.x;b.y+=a.y;if(a.width-a.x>b.width)b.width=a.width-a.x;if(a.height-a.y>b.height)b.height=a.height-a.y;a.destruct();a=null;return b});prop(e,"mouseChildren",{get:function(){return r},set:function(v){r=v;var i=e.numChildren;while(i--)e.getChildAt(i).enabled=r}});get(e,"numChildren",function(){return!emp(m)?m.length:0});e.clear=function(){while(e.numChildren)e.removeChildAt(0);h.clear()};e.contains=function(c){return e.getChildIndex(c)>-1};e.addChild=function(c){return e.addChildAt(c,e.numChildren)};e.addChildAt=function(c,d){if(!c||j)return null;c.parent&&c.parent.removeChild(c);e.el.appendChild(c.el);c.enabled=c.enabled?r:c.enabled;m.push(c);e.setChildIndex(c,d);c.parent=e;return c};e.removeChild=function(c){if(!c||!e.contains(c)||j)return null;m.remove(c);e.el.removeChild(c.el);c.parent=null;return c};e.removeChildAt=function(d){return e.removeChild(e.getChildAt(d))};e.getChildAt=function(d){return d<0||d>e.numChildren-1?null:m[d]};e.setChildIndex=function(c,d){if(!c||d<0||j)return null;m.remove(c);var n=e.getChildAt(d);n&&e.el.insertBefore(c.el,n.el);m.splice(d,0,c);return c};e.getChildIndex=function(c){return!c?-1:m.indexOf(c)};e.swapChildren=function(f,g){if(j)return null;var p=e.getChildIndex(f);var q=e.getChildIndex(g);if(p===-1||q===-1)return!1;e.setChildIndex(f,q);e.setChildIndex(g,p);return!0};e.getChildByDOMObject=function(k){if(!k)return null;var i=e.numChildren;while(i--){var c=e.getChildAt(i);if(k.getAttribute("data-asjs-id")===c.asjsId)return c;else if(c.numChildren){var o=c.getChildByDOMObject(k);if(o)return o}};return null};e.sendParentChangeEvent=function(){h.sendParentChangeEvent();var i=e.numChildren;while(i--)e.getChildAt(i).sendParentChangeEvent()};e.destruct=function(){m=r=j=null;h.destruct()}});c0(ASJS,"AbstractViewMediator",ASJS.AbstractMediator,function(b,c){var e=new ASJS.Sprite();get(c.protected,"isViewAttached",function(){return e.contains(c.prot.view)});get(c.protected,"viewContainer",function(){return e});b.new=function(a){e.enabled=!1;e.setSize("100%","100%");a.addChild(e);c.prot.addHandler(ASJS.Stage.RESIZE,d)};b.destruct=function(){c.prot.removeHandler(ASJS.Stage.RESIZE,d);c.prot.view.destruct();e.destruct();destCls(e);destCls(c.prot.view);e=c.prot.view=null;c.destruct()};c.prot.show=function(){if(!c.prot.isViewAttached){e.addChild(c.prot.view);c.prot.render()}};c.prot.hide=function(){c.prot.isViewAttached&&e.removeChild(c.prot.view)};c.prot.render=function(){c.prot.isViewAttached&&c.prot.view.render()};var d=c.prot.render});c0(ASJS,"AbstractCommand",ASJS.NotificationDispatcher,function(a,b){a.execute=function(){}});c0(ASJS,"AbstractView",ASJS.Sprite,function(a,b){a.render=function(){}});c0(ASJS,"Promise",ASJS.BaseClass,function(c,d){var w=[];var v=[];var x=[];var t=!1;var s=!1;var u=!1;var y=!1;var p;var r;c.resolve=function(b){t=!0;u=!0;r=b;n();o()};c.reject=function(b){s=!0;u=!0;p=b;m();o()};c.then=function(f){if(!w.has(f)){w.push(f);n()};return c};c.catch=function(f){if(!v.has(f)){v.push(f);m()};return c};c.finally=function(f){if(!x.has(f)){x.push(f);o()};return c};c.destruct=function(){if((w&&w.length>0)||(v&&v.length>0)||(x&&x.length>0))y=!0;else{w=v=x=t=s=u=null;d.destruct()}};function n(){if(!t)return;while(w&&w.length>0)w.shift()(r);if(y)c.destruct()};function m(){if(!s)return;while(v&&v.length>0)v.shift()(p);if(y)c.destruct()};function o(){if(!u)return;while(x&&x.length>0)x.shift()(r||p);if(y)c.destruct()}});rof(ASJS.Promise,"all",function(h){var a=new ASJS.Promise();var k=[];var i=-1;var l=h.length;while(++i<l){var e=h[i];e.finally(function(e,g){e.destruct();e=null;k.push(g);if(k.length===h.length)a.resolve(k)}.bind(this,e))};return a});rof(ASJS.Promise,"race",function(h){var a=new ASJS.Promise();var q=!1;var i=-1;var l=h.length;while(++i<l){h[i].finally(function(g){!q&&a.resolve(g);q=!0;i=l;var j=-1;while(++j<l){h[i]&&h[i].destruct&&h[i].destruct();h[i]=null}})};return a});c1(ASJS,"Window",ASJS.EventDispatcher,function(b){var c;var a=_w;b.el=a;b.new=function(){c=navigator.onLine?"online":"offline";b[on]("online"+" "+"offline",function(e){c=e.type})};get(b,"isOnline",function(){return c==="online"});get(b,"width",function(){return _d.documentElement.clientWidth||_d.body.clientWidth||a.innerWidth});get(b,"height",function(){return _d.documentElement.clientHeight||_d.body.clientHeight||a.innerHeight});get(b,"screenTop",function(){return a.screen.availTop});get(b,"screenLeft",function(){return a.screen.availLeft});get(b,"screenWidth",function(){return a.screen.width});get(b,"screenHeight",function(){return a.screen.height});get(b,"screenAvailWidth",function(){return a.screen.availWidth});get(b,"screenAvailHeight",function(){return a.screen.availHeight});prop(b,"scrollTop",{get:function(){return(!emp(a.pageYOffset)?a.pageYOffset:_d.scrollTop)-(_d.clientTop||0)},set:function(v){a.scrollTo(b.scrollLeft,v)}});prop(b,"scrollLeft",{get:function(){return(!emp(a.pageXOffset)?a.pageXOffset:_d.scrollLeft)-(_d.clientLeft||0)},set:function(v){a.scrollTo(v,b.scrollTop)}})});c0(ASJS,"Keyboard",ASJS.BaseClass,function(h,g){var j=ASJS.Window.instance;var p={};var k=[];var q;var n;h.isAnyPressed=function(){var b=!1;map(p,function(a,c){c&&(b=!0)});return b};h.isPressed=function(w){return p[w]};h.addKeyListener=function(f,o,m){if(!f||k.has(f))return;k.push(f);q=o;n=m;h.removeKeyListener(f);f[on]("keydown",l);f[on]("keyup",i);j[on]("blur",d)};h.removeKeyListener=function(f){if(!k.has(f))return;k.remove(f);f[off]("keydown",l);f[off]("keyup",i);j[off]("blur",d)};h.destruct=function(){while(k.length>0)h.removeKeyListener(k.shift());p=q=n=k=null;g.destruct()};function d(){map(p,function(){return!1})};function l(e){p[e.which]=!0;q&&q()};function i(e){p[e.which]=!1;n&&n()}});cnst(ASJS.Keyboard,"SPACE",32);cnst(ASJS.Keyboard,"BACKSPACE",8);cnst(ASJS.Keyboard,"TAB",9);cnst(ASJS.Keyboard,"ENTER",13);cnst(ASJS.Keyboard,"SHIFT",16);cnst(ASJS.Keyboard,"CTRL",17);cnst(ASJS.Keyboard,"ALT",18);cnst(ASJS.Keyboard,"PAUSE_BREAK",19);cnst(ASJS.Keyboard,"CAPS_LOCK",20);cnst(ASJS.Keyboard,"ESCAPE",27);cnst(ASJS.Keyboard,"PAGE_UP",33);cnst(ASJS.Keyboard,"PAGE_DOWN",34);cnst(ASJS.Keyboard,"END",35);cnst(ASJS.Keyboard,"HOME",36);cnst(ASJS.Keyboard,"LEFT_ARROW",37);cnst(ASJS.Keyboard,"UP_ARROW",38);cnst(ASJS.Keyboard,"RIGHT_ARROW",39);cnst(ASJS.Keyboard,"DOWN_ARROW",40);cnst(ASJS.Keyboard,"INSERT",45);cnst(ASJS.Keyboard,"DELETE",46);cnst(ASJS.Keyboard,"NUM_0",48);cnst(ASJS.Keyboard,"NUM_1",49);cnst(ASJS.Keyboard,"NUM_2",50);cnst(ASJS.Keyboard,"NUM_3",51);cnst(ASJS.Keyboard,"NUM_4",52);cnst(ASJS.Keyboard,"NUM_5",53);cnst(ASJS.Keyboard,"NUM_6",54);cnst(ASJS.Keyboard,"NUM_7",55);cnst(ASJS.Keyboard,"NUM_8",56);cnst(ASJS.Keyboard,"NUM_9",57);cnst(ASJS.Keyboard,"A",65);cnst(ASJS.Keyboard,"B",66);cnst(ASJS.Keyboard,"C",67);cnst(ASJS.Keyboard,"D",68);cnst(ASJS.Keyboard,"E",69);cnst(ASJS.Keyboard,"F",70);cnst(ASJS.Keyboard,"G",71);cnst(ASJS.Keyboard,"H",72);cnst(ASJS.Keyboard,"I",73);cnst(ASJS.Keyboard,"J",74);cnst(ASJS.Keyboard,"K",75);cnst(ASJS.Keyboard,"L",76);cnst(ASJS.Keyboard,"M",77);cnst(ASJS.Keyboard,"N",78);cnst(ASJS.Keyboard,"O",79);cnst(ASJS.Keyboard,"P",80);cnst(ASJS.Keyboard,"Q",81);cnst(ASJS.Keyboard,"R",82);cnst(ASJS.Keyboard,"S",83);cnst(ASJS.Keyboard,"T",84);cnst(ASJS.Keyboard,"U",85);cnst(ASJS.Keyboard,"V",86);cnst(ASJS.Keyboard,"W",87);cnst(ASJS.Keyboard,"X",88);cnst(ASJS.Keyboard,"Y",89);cnst(ASJS.Keyboard,"Z",90);cnst(ASJS.Keyboard,"LEFT_WINDOW_KEY",91);cnst(ASJS.Keyboard,"RIGHT_WINDOW_KEY",92);cnst(ASJS.Keyboard,"SELECT_KEY",93);cnst(ASJS.Keyboard,"NUMPAD_0",96);cnst(ASJS.Keyboard,"NUMPAD_1",97);cnst(ASJS.Keyboard,"NUMPAD_2",98);cnst(ASJS.Keyboard,"NUMPAD_3",99);cnst(ASJS.Keyboard,"NUMPAD_4",100);cnst(ASJS.Keyboard,"NUMPAD_5",101);cnst(ASJS.Keyboard,"NUMPAD_6",102);cnst(ASJS.Keyboard,"NUMPAD_7",103);cnst(ASJS.Keyboard,"NUMPAD_8",104);cnst(ASJS.Keyboard,"NUMPAD_9",105);cnst(ASJS.Keyboard,"MULTIPLY",106);cnst(ASJS.Keyboard,"ADD",107);cnst(ASJS.Keyboard,"SUBTRACT",109);cnst(ASJS.Keyboard,"DECIMAL_POINT",110);cnst(ASJS.Keyboard,"DIVIDE",111);cnst(ASJS.Keyboard,"F1",112);cnst(ASJS.Keyboard,"F2",113);cnst(ASJS.Keyboard,"F3",114);cnst(ASJS.Keyboard,"F4",115);cnst(ASJS.Keyboard,"F5",116);cnst(ASJS.Keyboard,"F6",117);cnst(ASJS.Keyboard,"F7",118);cnst(ASJS.Keyboard,"F8",119);cnst(ASJS.Keyboard,"F9",120);cnst(ASJS.Keyboard,"F10",121);cnst(ASJS.Keyboard,"F11",122);cnst(ASJS.Keyboard,"F12",123);cnst(ASJS.Keyboard,"NUM_LOCK",144);cnst(ASJS.Keyboard,"SCROLL_LOCK",145);cnst(ASJS.Keyboard,"SEMICOLON",186);cnst(ASJS.Keyboard,"EQUAL_SIGN",187);cnst(ASJS.Keyboard,"COMMA",188);cnst(ASJS.Keyboard,"DASH",189);cnst(ASJS.Keyboard,"PERIOD",190);cnst(ASJS.Keyboard,"FORWARD_SLASH",191);cnst(ASJS.Keyboard,"GRAVE_ACCENT",192);cnst(ASJS.Keyboard,"OPEN_BRACKET",219);cnst(ASJS.Keyboard,"BACK_SLASH",220);cnst(ASJS.Keyboard,"CLOSE_BRAKET",221);cnst(ASJS.Keyboard,"SINGLE_QUOTE",222);c1(ASJS,"Cycler",ASJS.BaseClass,function(c){var f=!1;var a=24;var e=j();var g=[];var h;get(c,"isPlaying",function(){return f});prop(c,"fps",{get:function(){return a},set:function(v){a=v;e=j();c.start()}});c.addCallback=function(d){!c.callbackExists(d)&&g.push(d)};c.removeCallback=function(d){g.remove(d)};c.getCallbackId=function(d){return g.indexOf(d)};c.callbackExists=function(d){return g.has(d)};c.start=function(){f=!0;b()};c.stop=function(){f=!1;h=clearTimeout(h)};function b(){h=clearTimeout(h);var i=g.length;while(i--)g[i]&&g[i]();h=setTimeout(b,e)};function j(){return 1000/a}});c3(ASJS,"FileDragAndDropUtil");rof(ASJS.FileDragAndDropUtil,"getFilesByEvent",function(e){var c=[];var a=e.dataTransfer;var i=-1;var b=a["items"]?"items":"files";var f;while(f=a[b][++i]){b==="items"?f.kind==="file"&&c.push(f.getAsFile()):c.push(f)};return c});c3(ASJS,"LZW");rof(ASJS.LZW,"compress",function(s){s=unescape(encodeURIComponent(s));var i;var o=256;var q=[];for(i=0;i<o;i++)q[String.fromCharCode(i)]=i;var w="";var n=[];map(s,function(i){var c=ASJS.LZW.charAt(s,i);var a=w+c;if(!emp(q[a]))w=a;else{n.push(q[w]);q[a]=o++;w=c}});w!=""&&n.push(q[w]);return ASJS.LZW.toBinary(n)});rof(ASJS.LZW,"decompress",function(p){p=ASJS.LZW.fromBinary(p);var i;var o=256;var q=[];for(i=1;i<o;i++)q[i]=String.fromCharCode(i);var w=String.fromCharCode(p[0]);var n=w;for(i=1;i<p.length;i++){var h="";var k=p[i];if(!emp(q[k]))h=q[k];else if(k===o)h=w+ASJS.LZW.charAt(w,0);else return null;n+=h;q[o++]=w+ASJS.LZW.charAt(h,0);w=h};return decodeURIComponent(escape(n))});rof(ASJS.LZW,"charAt",function(m,g){return g<m.length?m[g]:-1});rof(ASJS.LZW,"toBinary",function(j){var t=256;var f=8;var b="";var e=0;var r=0;map(j,function(i,d){e=(e<<f)+d;r+=f;t++;if(t>>f)f++;while(r>7){r-=8;b+=String.fromCharCode(e>>r);e&=(1<<r)-1}});return b+(r?String.fromCharCode(e<<(8-r)):"")});rof(ASJS.LZW,"fromBinary",function(l){var t=256;var f=8;var j=[];var e=0;var r=0;map(l,function(i){e=(e<<8)+l.charCodeAt(i);r+=8;if(r>=f){r-=f;j.push(e>>r);e&=(1<<r)-1;t++;if(t>>f)f++}});return j});c3(ASJS,"RequestMethod");cnst(ASJS.RequestMethod,"DELETE","DELETE");cnst(ASJS.RequestMethod,"GET","GET");cnst(ASJS.RequestMethod,"HEAD","HEAD");cnst(ASJS.RequestMethod,"OPTIONS","OPTIONS");cnst(ASJS.RequestMethod,"POST","POST");cnst(ASJS.RequestMethod,"PUT","PUT");c0(ASJS,"Loader",ASJS.EventDispatcher,function(f,i){var g=!0;var m="GET";var z="text";var x=!1;var B=!1;var p;var o;var s;var r;var b;var c;var n;var q;f.new=d;get(f,"content",function(){if(!n){n=o.response;if(x)n=ASJS.LZW.decompress(n);if(z==="json"&&tis(o.response,"string"))n=JSON.parse(n)};return n});get(f,"status",function(){return o.status});get(f,"statusText",function(){return o.statusText});get(f,"readyState",function(){return o.readyState});get(f,"url",function(){return b});set(f,"contentType",function(v){f.setHeader("Content-type",v)});set(f,"username",function(v){s=v});set(f,"password",function(v){r=v});set(f,"data",function(v){c=v});set(f,"async",function(v){g=v});set(f,"method",function(v){m=v});set(f,"responseType",function(v){z=v});set(f,"compressed",function(v){x=v});set(f,"withCredentials",function(v){B=v});f.unload=d;f.setHeader=function(k,v){if(!p)p={};p[k]=v};f.getHeader=function(k){return o.getRequestHeader(k)};f.cancel=function(){o.abort()};f.load=function(a){if(a){b=a;o.withCredentials=B;o.open(m,b,g,s,r);o.responseType=x?"text":z;if(p){for(var k in p){o.setRequestHeader(k,p[k])}};o.send(x?ASJS.LZW.compress(c):c)};return q};f.destruct=function(){if(o){f.cancel();A()};!emp(q)&&q.destruct();g=m=p=z=x=o=s=r=b=c=n=q=null;i.destruct()};function d(){if(o){f.cancel();A()};n=null;!emp(q)&&q.destruct();q=new ASJS.Promise();o=XMLHttpRequest?new XMLHttpRequest():new XDomainRequest();o[on]("readystatechange",C);o[on]("progress",w);o[on]("load",h);o[on]("error",l);o[on]("abort",j);o[on]("loadstart",y);o[on]("timeout",t);o[on]("loadend",u)};function A(){o[off]("readystatechange",C);o[off]("progress",w);o[off]("load",h);o[off]("error",l);o[off]("abort",j);o[off]("loadstart",y);o[off]("timeout",t);o[off]("loadend",u)};function C(e){f.dispatchEvent&&f[de]("readystatechange",e)};function y(){f.dispatchEvent&&f[de]("loadstart")};function w(e){e.lengthComputable&&f.dispatchEvent&&f[de]("progress",e)};function h(e){if(f.status>=400)l(e);else{q.resolve(f);f.dispatchEvent&&f[de]("load",e)}};function j(e){q.reject();f.dispatchEvent&&f[de]("abort",e)};function t(e){q.reject();f.dispatchEvent&&f[de]("timeout",e)};function u(e){q.reject();f.dispatchEvent&&f[de]("loadend",e)};function l(e){q.reject();f.dispatchEvent&&f[de]("error",e)}});c0(ASJS,"ScriptLoader",ASJS.Loader,function(a,b){var c;get(a,"rawContent",function(){return b.content});get(a,"content",function(){if(!c&&b.content!=="")c=Function((b.content.indexOf("(function()")===0?"return":"")+b.content)();return c});a.unload=function(){c=null;b.unload()};a.destruct=function(){c=null;b.destruct()}});c0(ASJS,"StyleLoader",ASJS.Loader,function(b,c){var a=ASJS.Head.instance;var d;b.useStyle=function(){if(d||c.content==="")return;d=new ASJS.Tag("style");d.setAttr("type","text/css");d.text=c.content;a.addChild(d)};b.unload=function(){d&&a.contains(d)&&a.removeChild(d);d=null;c.unload()};b.destruct=function(){a=d=null;c.destruct()}});c0(ASJS,"Matrix",ASJS.BaseClass,function(n){n.new=function(a,b,c,d,e,f){n.a=tis(a,"number")?a:1;n.b=tis(b,"number")?b:0;n.c=tis(c,"number")?c:0;n.d=tis(d,"number")?d:1;n.e=tis(e,"number")?e:0;n.f=tis(f,"number")?f:0}});rof(ASJS.Matrix,"translate",function(m,g,h){m.e=g;m.f=h});rof(ASJS.Matrix,"skew",function(m,i,j){m.b=i;m.c=j});rof(ASJS.Matrix,"scale",function(m,k,l){m.a=k;m.d=l});c1(ASJS,"Stage",ASJS.Sprite,function(a,b){var c=ASJS.Window.instance;var d=0;var e=0;a.new=function(){b.new(_d.body);_w[on]("resize",f);f();ASJS.Mouse.instance.init()};get(a,"stage",function(){return a});get(a,"stageWidth",function(){return d});get(a,"stageHeight",function(){return e});function f(){a.setCSS("overflow-x","hidden");a.setCSS("overflow-y","hidden");d=c.width;e=c.height;a.removeCSS("overflow-x");a.removeCSS("overflow-y");a[de](ASJS.Stage.RESIZE)}});msg(ASJS.Stage,"RESIZE");msg(ASJS.Stage,"ADDED_TO_STAGE");msg(ASJS.Stage,"REMOVED_FROM_STAGE");c0(ASJS,"Color",ASJS.BaseClass,function(i){i.new=function(r,g,b,a){i.set(r,g,b,a)};i.set=function(r,g,b,a){i.r=r||0;i.g=g||0;i.b=b||0;i.a=tis(a,"number")?a:1};get(i,"floatAlpha",function(){return i.a/255});i.setVector=function(v){i.set(v[0],v[1],v[2],v[3])};i.getVector=function(){return[i.r,i.g,i.b,i.a]};get(i,"isGray",function(){return i.r===i.g&&i.g===i.b});get(i,"isWhite",function(){return i.r===255&&i.isGray});get(i,"isBlack",function(){return i.r===0&&i.isGray})});rof(ASJS.Color,"twoColorDistance",function(c,d){return _m.abs(c.r-d.r)+_m.abs(c.g-d.g)+_m.abs(c.b-d.b)+_m.abs(c.a-d.a)});rof(ASJS.Color,"colorToString",function(h){return"rgba("+h.r+", "+h.g+", "+h.b+", "+h.a+")"});rof(ASJS.Color,"valuesFromHex",function(e){return e.replace(/^(#|0x)/,"").match(/.{1,2}/g)});rof(ASJS.Color,"hexStringToInt",function(e){return parseInt(e.replace(/#|0x/,""),16)});rof(ASJS.Color,"intToHex",function(v){var e=(v||0).toString(16);return(e.length<2?"0":"")+e});rof(ASJS.Color,"rgbHexToColor",function(e,k){var j=ASJS.Color.valuesFromHex(e);while(j.length<3)j.unshift(0);if(!k)k=new ASJS.Color();k.set(parseInt(j[0],16)||0,parseInt(j[1],16)||0,parseInt(j[2],16)||0);return k});rof(ASJS.Color,"rgbaHexToColor",function(e,k){var j=ASJS.Color.valuesFromHex(e);while(j.length<4)j.unshift(0);if(!k)k=new ASJS.Color();k.set(parseInt(j[0],16)||0,parseInt(j[1],16)||0,parseInt(j[2],16)||0,parseInt(j[3],16)||1);return k});rof(ASJS.Color,"argbHexToColor",function(e,k){var j=ASJS.Color.valuesFromHex(e);while(j.length<4)j.unshift(0);if(!k)k=new ASJS.Color();k.set(parseInt(j[1],16)||0,parseInt(j[2],16)||0,parseInt(j[3],16)||0,parseInt(j[0],16)||1);return k});rof(ASJS.Color,"abgrHexToColor",function(e,k){var j=ASJS.Color.valuesFromHex(e);while(j.length<4)j.unshift(0);if(!k)k=new ASJS.Color();k.set(parseInt(j[3],16)||0,parseInt(j[2],16)||0,parseInt(j[1],16)||0,parseInt(j[0],16)||1);return k});rof(ASJS.Color,"colorToRgbHex",function(h){return ASJS.Color.intToHex(h.r)+ASJS.Color.intToHex(h.g)+ASJS.Color.intToHex(h.b)});rof(ASJS.Color,"colorToRgbaHex",function(h){return ASJS.Color.intToHex(h.r)+ASJS.Color.intToHex(h.g)+ASJS.Color.intToHex(h.b)+ASJS.Color.intToHex(h.a)});rof(ASJS.Color,"colorToArgbHex",function(h){return ASJS.Color.intToHex(h.a)+ASJS.Color.intToHex(h.r)+ASJS.Color.intToHex(h.g)+ASJS.Color.intToHex(h.b)});rof(ASJS.Color,"colorToAbgrHex",function(h){return ASJS.Color.intToHex(h.a)+ASJS.Color.intToHex(h.b)+ASJS.Color.intToHex(h.g)+ASJS.Color.intToHex(h.r)});rof(ASJS.Color,"rgbIntToColor",function(f,k){return ASJS.Color.rgbHexToColor(f.toString(16),k)});rof(ASJS.Color,"rgbaIntToColor",function(f,k){return ASJS.Color.rgbaHexToColor(f.toString(16),k)});rof(ASJS.Color,"argbIntToColor",function(f,k){return ASJS.Color.argbHexToColor(f.toString(16),k)});rof(ASJS.Color,"abgrIntToColor",function(f,k){return ASJS.Color.abgrHexToColor(f.toString(16),k)});rof(ASJS.Color,"colorToRgbInt",function(h){return parseInt(ASJS.Color.colorToRgbHex(h),16)});rof(ASJS.Color,"colorToRgbaInt",function(h){return parseInt(ASJS.Color.colorToRgbaHex(h),16)});rof(ASJS.Color,"colorToArgbInt",function(h){return parseInt(ASJS.Color.colorToArgbHex(h),16)});rof(ASJS.Color,"colorToAbgrInt",function(h){return parseInt(ASJS.Color.colorToAbgrHex(h),16)});rof(ASJS.Color,"clone",function(h){return new ASJS.Color(h.r,h.g,h.b,h.a)});c0(ASJS,"Image",ASJS.DisplayObject,function(c,d){c.new=d.new.bind(c,"img");get(c,"imageWidth",function(){return c.el.naturalWidth});get(c,"imageHeight",function(){return c.el.naturalHeight});ASJS.Tag.attrProp(c,"src");ASJS.Tag.attrProp(c,"alt")});rof(ASJS.Image,"convertToBitmap",function(b){var a=new ASJS.Bitmap(b.imageWidth,b.imageHeight);a.setSize(b.imageWidth,b.imageHeight);a.drawImage(b,0,0,b.imageWidth,b.imageHeight,0,0,b.imageWidth,b.imageHeight);return a});c0(ASJS,"Bitmap",ASJS.DisplayObject,function(O,P){var u={};var br=!0;var bd=!1;var bb=!1;var bq=!1;var X;var bu;var bh;O.new=function(bm,bo){P.new("canvas");O.setBitmapSize(bm,bo)};prop(O,"keepOriginal",{get:function(){return bq},set:function(v){bq=v}});prop(O,"bitmapFilters",{get:function(){return bu},set:function(v){bu=v;bw()}});prop(O,"bitmapWidth",{get:function(){return O.el.width},set:function(v){O.setAttr("width",_m.max(1,v||1))}});prop(O,"bitmapHeight",{get:function(){return O.el.height},set:function(v){O.setAttr("height",_m.max(1,v||1))}});prop(O,"blendMode",{get:function(){return bi().globalCompositeOperation},set:function(v){bi().globalCompositeOperation=v}});prop(O,"globalAlpha",{get:function(){return bi().globalAlpha},set:function(v){bi().globalAlpha=v}});O.beginLineColorStyle=function(D,g,I,bj,Y,U){bf();bp(D,bj,Y,U);bt("targetStroke",g,I)};O.beginLineGradientStyle=function(D,z,bv,Q,bk,Y,U){bf();bp(D,bj,Y,U);bz("targetStroke",z,bv,Q)};O.beginLinePatternStyle=function(D,J,S,bk,Y,U){bf();bp(D,bj,Y,U);bx("targetStroke",J,S)};O.beginColorFill=function(g,I){be();bt("targetFill",g,I)};O.beginGradientFill=function(z,bv,Q){be();bz("targetFill",z,bv,Q)};O.beginPatternFill=function(J,S){be();bx("targetFill",J,S)};O.translate=function(x,y){bi().translate(x,y)};O.rotate=function(v){bi().rotate(v*ASJS.GeomUtils.THETA)};O.scale=function(w,h){bi().scale(w,h)};O.transform=function(R){bi().transform(R.a,R.b,R.c,R.d,R.e,R.f)};O.endLineStyle=function(){var j=bi();bd&&j.stroke();bd=!1};O.endFill=function(){var j=bi();bi().closePath();bb&&j.fill();bb=!1};O.moveTo=function(x,y){bi().moveTo(x,y)};O.lineTo=function(x,y){bi().lineTo(x,y)};O.quadraticCurveTo=function(n,m,x,y){bi().quadraticCurveTo(n,m,x,y)};O.bezierCurveTo=function(n,m,l,k,x,y){bi().bezierCurveTo(n,m,l,k,x,y)};O.drawRect=function(x,y,w,h){var j=bi();bb&&j.fillRect(x,y,w,h);bd&&j.strokeRect(x,y,w,h)};O.drawCircle=function(x,y,r){if(y===undefined&&r===undefined)y=r=x;O.drawArc(x,y,r,0,2*_m.PI)};O.drawArc=function(x,y,r,E,e,by){bi().arc(x,y,r,E,e,by)};O.drawHTML=function(v){try{rasterizeHTML.drawHTML(v,O.el)}catch(e){throw new Error("Missing: http://www.github.com/cburgmer/rasterizeHTML.js")}};O.drawImage=function(J,d,a,c,b,x,y,w,h){try{bi().drawImage(J.el,d||0,a||0,c||J.imageWidth,b||J.imageHeight,x||0,y||0,w||O.bitmapWidth,h||O.bitmapHeight)}catch(e){}};O.textStyle=function(o,F,Z){var j=bi();j.font=o;j.textAlign=F;j.textBaseline=Z};O.drawText=function(t,x,y){var j=bi();bb&&j.fillText(t,x,y);bd&&j.strokeText(t,x,y)};O.measureText=function(t){return bi().measureText(t)};O.clearRect=function(x,y,w,h){bi().clearRect(x,y,w,h)};O.getDataUrl=function(z,bs){return O.el.toDataURL(z,bs)};O.getColorRgb=function(x,y){var H=O.getImageData(x,y,1,1);return new ASJS.Color(H.data[0],H.data[1],H.data[2],H.data[3]/255)};O.setPixel=function(x,y){O.drawRect(x,y,1,1)};O.getImageData=function(x,y,w,h){return bi().getImageData(x,y,w,h)};O.putImageData=function(bc,x,y){bi().putImageData(bc,x,y)};O.merge=function(N,A,B,C,s,x,y){O.putImageData(N.getImageData(A,B,C,s),x,y)};O.destroy=function(){O.setBitmapSize(1);bh=null};O.setBitmapSize=function(G,M){if(M===undefined)M=G;O.bitmapWidth=G;O.bitmapHeight=M};O.clone=function(){var K=O.getImageData(0,0,O.bitmapWidth,O.bitmapHeight);var f=new ASJS.Bitmap(O.bitmapWidth,O.bitmapHeight);f.putImageData(K,0,0);return f};O.getCanvasClone=function(){var bg=_d.createElement('canvas');var V=bg.getContext('2d');bg.width=O.bitmapWidth;bg.height=O.bitmapHeight;V.drawImage(O.el,0,0);return bg};O.getOriginal=function(){if(!bh)return O;var f=new ASJS.Bitmap(O.bitmapWidth,O.bitmapHeight);f.putImageData(bh,0,0);return f};O.save=function(){bi().save()};O.restore=function(){bi().restore()};O.destruct=function(){O.destroy();u=br=bd=bq=bb=X=bu=bh=null;P.destruct()};function bf(){bi().beginPath();bd=!0};function be(){bi().beginPath();bb=!0};function bA(W,q,H,I){var p=is(H,ASJS.Color)?ASJS.Color.clone(H):ASJS.Color.rgbHexToColor(H);p.a=I;W.addColorStop(q,ASJS.Color.colorToString(p))};function ba(bl,v){var j=bi();if(bl==="targetFill")j.fillStyle=v;else j.strokeStyle=v};function bp(D,bj,Y,U){var j=bi();j.lineWidth=D;j.miterLimit=bj||10;j.lineJoin=Y||"miter";j.lineCap=U||"butt"};function bt(bl,g,I){var p=is(g,ASJS.Color)?ASJS.Color.clone(g):ASJS.Color.rgbHexToColor(g);p.a=I;ba(bl,ASJS.Color.colorToString(p))};function bz(bl,z,bn,Q){var j=bi();var W;switch(z){case "gradientLinear":W=j.createLinearGradient.apply(j,bn);break;case "gradientRadial":W=j.createRadialGradient.apply(j,bn);break};var i=-1;var H;while(H=Q[++i])bA(W,H.stop,H.color,H.alpha);ba(bl,W)};function bx(bl,J,S){var T=bi().createPattern(J.el,S||"repeat");ba(bl,T)};function bi(){if(!X)X=O.el.getContext("2d");return X};function bB(){var L;while(L=O.bitmapFilters.shift())L.destruct()};function bw(){if(!br)return;br=!1;if(O.bitmapFilters.length===0)return;if(O.keepOriginal){if(!bh)bh=O.getImageData(0,0,O.bitmapWidth,O.bitmapHeight);O.putImageData(bh,0,0)};var K=O.getImageData(0,0,O.bitmapWidth,O.bitmapHeight);var L;var i=-1;while(L=O.bitmapFilters[++i])L.execute(K);O.putImageData(K,0,0);br=!0}});cnst(ASJS.Bitmap,"GRADIENT_LINEAR","gradientLinear");cnst(ASJS.Bitmap,"GRADIENT_RADIAL","gradientRadial");cnst(ASJS.Bitmap,"PATTERN_REPEAT","repeat");cnst(ASJS.Bitmap,"PATTERN_NO_REPEAT","no-repeat");cnst(ASJS.Bitmap,"PATTERN_REPEAT_X","repeat-x");cnst(ASJS.Bitmap,"PATTERN_REPEAT_Y","repeat-y");cnst(ASJS.Bitmap,"LINE_CAP_BUTT","butt");cnst(ASJS.Bitmap,"LINE_CAP_ROUND","round");cnst(ASJS.Bitmap,"LINE_CAP_SQUARE","square");cnst(ASJS.Bitmap,"LINE_JOIN_BEVEL","bevel");cnst(ASJS.Bitmap,"LINE_JOIN_ROUND","round");cnst(ASJS.Bitmap,"LINE_JOIN_MITER","miter");c0(ASJS,"Scale9Grid",ASJS.Sprite,function(b,c){var k=new ASJS.Image();var m=new ASJS.Bitmap();var f=[];b.new=function(){c.new();b.setCSS("position","absolute");var i=9;while(i--){f[i]=new ASJS.Image();f[i].setCSS("position","absolute");b.addChild(f[i])};c.prot.lock()};b.init=function(o,g){k[on]("load",function(){k[offAll]();d(k.imageWidth,k.imageHeight,g)});k.src=o};function d(h,j,g){b.setCSS("min-width",h);b.setCSS("min-height",j);var n=g.x+g.width;var l=g.y+g.height;var a=h-n;var e=j-l;f[0].x=f[3].x=f[6].x=f[0].y=f[1].y=f[2].y=0;f[1].x=f[4].x=f[7].x=f[0].width=f[3].width=f[6].width=g.x;f[3].y=f[4].y=f[5].y=f[0].height=f[1].height=f[2].height=g.y;f[2].width=f[5].width=f[8].width=a;f[6].height=f[7].height=f[8].height=e;f[1].width=f[4].width=f[7].width="calc(100% - "+(g.x+a)+"px)";f[3].height=f[4].height=f[5].height="calc(100% - "+(g.y+e)+"px)";f[2].setCSS("right",0);f[5].setCSS("right",0);f[8].setCSS("right",0);f[6].setCSS("bottom",0);f[7].setCSS("bottom",0);f[8].setCSS("bottom",0);m.setBitmapSize(g.x,g.y);m.drawImage(k,0,0,g.x,g.y);f[0].src=m.getDataUrl();m.setBitmapSize(g.width,g.y);m.drawImage(k,g.x,0,g.width,g.y);f[1].src=m.getDataUrl();m.setBitmapSize(a,g.y);m.drawImage(k,n,0,a,g.y);f[2].src=m.getDataUrl();m.setBitmapSize(g.x,g.height);m.drawImage(k,0,g.y,g.x,g.height);f[3].src=m.getDataUrl();m.setBitmapSize(g.width,g.height);m.drawImage(k,g.x,g.y,g.width,g.height);f[4].src=m.getDataUrl();m.setBitmapSize(a,g.height);m.drawImage(k,n,g.y,a,g.height);f[5].src=m.getDataUrl();m.setBitmapSize(g.x,e);m.drawImage(k,0,l,g.x,e);f[6].src=m.getDataUrl();m.setBitmapSize(g.width,e);m.drawImage(k,g.x,l,g.width,e);f[7].src=m.getDataUrl();m.setBitmapSize(a,e);m.drawImage(k,n,l,a,e);f[8].src=m.getDataUrl();m.destroy()};b.destruct=function(){c.prot.unlock();k.destruct();m.destruct();var i=f.length;while(i--){b.removeChild(f[i]);f[i].destruct();f[i]=null};f=null;c.destruct()}});c0(ASJS,"Label",ASJS.DisplayObject,function(a,b){a.new=b.new.bind(a,"label");ASJS.Tag.attrProp(a,"for")});c0(ASJS,"Link",ASJS.Sprite,function(a,b){a.new=b.new.bind(a,"a");ASJS.Tag.attrProp(a,"href");ASJS.Tag.attrProp(a,"target");ASJS.Tag.attrProp(a,"download")});c0(ASJS,"IFrame",ASJS.DisplayObject,function(b,c){b.new=c.new.bind(b,"iframe");ASJS.Tag.attrProp(b,"src");b.isLoaded=function(){return b.el.contentDocument.title.indexOf("404")===-1};b.sendMessage=function(a){b.el.contentWindow.postMessage(a,"*")}});c0(ASJS,"ScrollBar",ASJS.Sprite,function(b,d){var x=new ASJS.Point();var w=new ASJS.Point();var A=new ASJS.Point();var z=new ASJS.Sprite();var u=new ASJS.Sprite();var t=new ASJS.DisplayObject();var y=new ASJS.DisplayObject();var n=1;var s=1;var q=1;var i;b.new=function(){d.new();z.setSize("100%","100%");b.addChild(z);u.enabled=!1;u.setSize("100%","100%");b.useNative=!1;d.prot.lock()};get(b,"container",function(){return z});prop(b,"useNative",{get:function(){return i},set:function(v){if(i===v)return;i=ASJS.Polyfill.instance.scrollBarSize===0?!0:v;c()}});prop(b,"horizontalAngle",{get:function(){return s},set:function(v){s=tis(v,"number")?_m.sign(v):1}});prop(b,"verticalAngle",{get:function(){return q},set:function(v){q=tis(v,"number")?_m.sign(v):1}});prop(b,"scrollSpeed",{get:function(){return n},set:function(v){n=tis(v,"number")?v:1}});get(b,"verticalScrollBar",function(){return t});get(b,"horizontalScrollBar",function(){return y});b.update=tf(function(){if(i)return;var k=new ASJS.Point(z.width,z.height);var r=new ASJS.Point(z.el.scrollLeft,z.el.scrollTop);var j=new ASJS.Point(z.el.scrollWidth,z.el.scrollHeight);if(!ASJS.GeomUtils.twoPointEquals(j,w)||!ASJS.GeomUtils.twoPointEquals(r,A)||!ASJS.GeomUtils.twoPointEquals(k,x)){x.x=k.x;x.y=k.y;A.x=r.x;A.y=r.y;w.x=j.x;w.y=j.y;p(y,k,j,r,"x","width");p(t,k,j,r,"y","height")};k.destruct();r.destruct();j.destruct();k=r=j=null});b.destruct=function(){d.prot.unlock();d.destruct();x.destruct();w.destruct();A.destruct();z.destruct();u.destruct();t.destruct();y.destruct();x=w=A=z=u=t=y=null};function p(h,k,j,r,o,g){if(k[o]<j[o]){!u.contains(h)&&u.addChild(h);var e=(k[o]/j[o]);h[g]=_m.floor(k[o]*e);h[o]=_m.floor(r[o]*e)}else if(u.contains(h))u.removeChild(h)};function c(){d.prot.unlock();var l=z[has](ASJS.MouseEvent.WHEEL,f);var B=b.contains(u);if(i){if(l){z[off]("DOMSubtreeModified",b.update);z[off](ASJS.MouseEvent.WHEEL,f)};z.setCSS("overflow","auto");B&&b.removeChild(u)}else{if(!l){z[on]("DOMSubtreeModified",b.update);z[on](ASJS.MouseEvent.WHEEL,f)};z.setCSS("overflow","hidden");!B&&b.addChild(u)};b.update();d.prot.lock()};function f(a){var m=ASJS.Polyfill.getScrollData(a);z.el.scrollLeft+=m.x*s*n;z.el.scrollTop+=m.y*q*n;b.update()}});c3(ASJS,"BitmapBounds");rof(ASJS.BitmapBounds,"execute",function(b){var c=b.getImageData(0,0,b.bitmapWidth,b.bitmapHeight);var d=c.data;var w=c.width;var h=c.height;var a=new ASJS.Rectangle(1/0,1/0,-1/0,-1/0);var i=-4;var l=d.length;var e=new ASJS.Point();while((i+=4)<l){if(d[i+3]>0){var f=_m.floor(i/4);e.x=_m.floor(f%w);e.y=_m.floor(f/w);a.x=_m.min(a.x,e.x);a.y=_m.min(a.y,e.y);a.width=_m.max(a.width,e.x-a.x+1);a.height=_m.max(a.height,e.y-a.y+1)}};e.destruct();e=null;return a});c0(ASJS,"GradientColorVo",ASJS.BaseClass,function(d){d.new=function(a,b,c){d.stop=a||0;d.color=b||"#0";d.alpha=tis(c,"number")?c:1}});c0(ASJS,"AbstractBitmapFilter",ASJS.BaseClass,function(a){a.execute=function(b){return b}});c0(ASJS,"CutoutBitmapFilter",ASJS.AbstractBitmapFilter,function(c){var a={};var g=1;c.new=function(h){c.adjustment=h;g=255/c.adjustment};c.execute=function(e){var d=e.data;var i=d.length;while((i-=4)>-1){d[i+3]>0&&d.set([f(d[i]),f(d[i+1]),f(d[i+2])],i)};a={};return e};function f(b){if(!a[b])a[b]=_m.floor(b/g)*g;return a[b]}});c0(ASJS,"ColorLimitBitmapFilter",ASJS.AbstractBitmapFilter,function(c){var a={};c.new=function(g){c.threshold=g};c.execute=function(e){var d=e.data;var i=d.length;while((i-=4)>-1){d[i+3]>0&&d.set([f(d[i]),f(d[i+1]),f(d[i+2])],i)};a={};return e};function f(b){if(!a[b])a[b]=_m.round(b/c.threshold)*c.threshold;return a[b]}});c0(ASJS,"ColorChangeBitmapFilter",ASJS.AbstractBitmapFilter,function(b){var g;b.new=function(f){g={};for(var a in f)g[a.toLowerCase()]=ASJS.Color.rgbHexToColor(f[a])};b.execute=function(c){var d=c.data;var e=new ASJS.Color();var i=d.length;while((i-=4)>-1){if(d[i+3]===0)continue;e.set(d[i],d[i+1],d[i+2]);var h=ASJS.Color.colorToRgbHex(e);var j=g[h];j&&d.set([j.r,j.g,j.b],i)};g={};e.destruct();e=null;return c}});c0(ASJS,"PaletteLimitBitmapFilter",ASJS.AbstractBitmapFilter,function(e){var a={};var k;e.new=function(g){k=[];if(g.length<=0)return;var i=g.length;while(i--)k.push(ASJS.Color.rgbHexToColor(g[i]))};e.execute=function(f){var d=f.data;var n;var i=d.length;var m=k.length;var o=new ASJS.Color();while((i-=4)>-1){if(d[i+3]===0)continue;o.set(d[i],d[i+1],d[i+2]);var l=ASJS.Color.colorToRgbHex(o);if(a[l])n=a[l];else{var h=768;n=k[0];var j=m;while(j--){var c=k[j];var b=ASJS.Color.twoColorDistance(o,c);if(b<h){h=b;n=c}}};a[l]=n;d.set([n.r,n.g,n.b],i)};a={};k={};o.destruct();o=null;return f}});c0(ASJS,"AbstractConvoluteBitmapFilter",ASJS.AbstractBitmapFilter,function(B,s){B.new=function(z){B.opaque=z};get(s.protected,"matrix",function(){return[1]});B.execute=function(v){var d=v.data;return F(v)};function F(v){var C=s.prot.matrix;var q=_m.round(_m.sqrt(C.length));var E=_m.floor(q*0.5);var p=v.data;var f=v.width;var i=v.height;var w=f;var h=i;var G=new ASJS.Bitmap(w,h);var t=G.getImageData(0,0,w,h);G.destruct();var o=t.data;var D=B.opaque?1:0;var y=h;while(y--){var x=w;while(x--){var k=y;var j=x;var u=(y*w+x)*4;var r=0;var g=0;var b=0;var a=0;var c=q;while(c--){var e=q;while(e--){var m=k+c-E;var n=j+e-E;if(m>=0&&m<i&&n>=0&&n<f){var A=(m*f+n)*4;var l=C[c*q+e];r+=p[A]*l;g+=p[A+1]*l;b+=p[A+2]*l;a+=p[A+3]*l}}};o.set([r,g,b,a+D*(255-a)],u)}};return t}});c0(ASJS,"SharpenBitmapFilter",ASJS.AbstractConvoluteBitmapFilter,function(a,b){get(b.protected,"matrix",function(){return[0,-1,0,-1,5,-1,0,-1,0]})});c0(ASJS,"TintBitmapFilter",ASJS.AbstractBitmapFilter,function(b,e){var f;var k;b.new=function(a,j){b.color=a;b.blendModeFunction=j||ASJS.TintBitmapFilter.ADD};prop(b,"color",{get:function(){return f},set:function(v){f=v||new ASJS.Color()}});prop(b,"blendModeFunction",{get:function(){return k},set:function(v){k=v||ASJS.TintBitmapFilter.ADD}});b.execute=function(g){var d=g.data;var i=d.length;var a=new ASJS.Color();var h=k.before;while((i-=4)>-1){if(d[i+3]===0)continue;a.set(d[i],d[i+1],d[i+2]);if(h&&!h(a))continue;d.set([b.blendModeFunction(a.r,f.r),b.blendModeFunction(a.g,f.g),b.blendModeFunction(a.b,f.b)],i)};a.destruct();a=null;return g};b.destruct=function(){f.destruct();k=f=null;e.destruct()}});rof(ASJS.TintBitmapFilter,"ADD",function(s,d){return d});rof(ASJS.TintBitmapFilter,"AVG",function(s,d){return bw(0,255,_m.round((s+d)>>1))});rof(ASJS.TintBitmapFilter,"MULTIPLY",function(s,d){return bw(0,255,_m.round((s*d)/255))});rof(ASJS.TintBitmapFilter,"REAL",function(s,d){return bw(0,255,_m.round(d+((s-127)<<1)))});rof(ASJS.TintBitmapFilter.REAL,"before",function(c){return c.isGray&&!c.isWhite&&!c.isBlack});c0(ASJS,"ContrastBitmapFilter",ASJS.AbstractBitmapFilter,function(c){var a={};c.new=function(g){c.adjustment=g};c.execute=function(e){var d=e.data;var i=d.length;while((i-=4)>-1){d[i+3]>0&&d.set([f(d[i]),f(d[i+1]),f(d[i+2])],i)};a={};return e};function f(b){if(!a[b])a[b]=128-((128-b)*c.adjustment);return a[b]}});c0(ASJS,"BlurBitmapFilter",ASJS.AbstractConvoluteBitmapFilter,function(b,c){b.new=function(d,a){c.new(d);b.value=a};get(c.protected,"matrix",function(){var a=1/_m.pow(b.value,2);var e=[];var i=b.value;while(i--){var j=b.value;while(j--)e.push(a)};return e})});c0(ASJS,"InvertBitmapFilter",ASJS.AbstractBitmapFilter,function(c){var a={};c.execute=function(e){var d=e.data;var i=d.length;while((i-=4)>-1){d[i+3]>0&&d.set([f(d[i]),f(d[i+1]),f(d[i+2])],i)};a={};return e};function f(b){if(!a[b])a[b]=128-(b-128);return a[b]}});c0(ASJS,"OpacityBitmapFilter",ASJS.AbstractBitmapFilter,function(a){a.new=function(c){a.adjustment=c};a.execute=function(b){var d=b.data;var i=d.length;while((i-=4)>-1)d[i+3]*=a.adjustment;return b}});c0(ASJS,"MaskBitmapFilter",ASJS.AbstractBitmapFilter,function(o){o.new=function(f,c,n,m){o.mask=f;o.pos=c;o.invert=n;o.cutout=emp(m)?!0:m};o.execute=function(l){var e=l.data;var r=o.mask.getImageData(0,0,o.mask.bitmapWidth,o.mask.bitmapHeight);var k=r.data;var d=l.width;var h=r.width;var g=r.height;var p=o.pos.x+h;var q=o.pos.y+g;var i=e.length;var s=new ASJS.Point();while((i-=4)>-1){var t=_m.floor(i/4);s.x=_m.floor(t%d);s.y=_m.floor(t/d);if(s.x>=o.pos.x&&s.y>=o.pos.y&&s.x<p&&s.y<q){var j=((s.y-o.pos.y)*h+(s.x-o.pos.x))*4;var b=e[i+3];var a=k[j+3];e[i+3]=_m.floor(b*((o.invert?(255-a):a)/255))}else if(o.cutout)e[i+3]=0};s.destruct();s=null;return l}});c0(ASJS,"ThresholdBitmapFilter",ASJS.AbstractBitmapFilter,function(b){var a={};b.new=function(g){b.threshold=g};b.execute=function(c){var d=c.data;var i=d.length;var e=new ASJS.Color();while((i-=4)>-1){if(d[i+3]===0)continue;e.set(d[i],d[i+1],d[i+2]);var f=ASJS.Color.colorToRgbHex(e);if(!a[f]){a[f]=0.2126*e.r+0.7152*e.g+0.0722*e.b>=b.threshold?255:0};d[i]=d[i+1]=d[i+2]=a[f]};a={};e.destruct();e=null;return c}});c0(ASJS,"AlphaBitmapFilter",ASJS.AbstractBitmapFilter,function(b){b.new=function(a){b.type=a||"darkness"};b.execute=function(c){var f=b.type==="darkness";var d=c.data;var i=d.length;while((i-=4)>-1){var e=((d[i]+d[i+1]+d[i+2])/3);d[i+3]-=_m.round(f?255-e:e)};return c}});cnst(ASJS.AlphaBitmapFilter,"TYPE_DARKNESS","darkness");cnst(ASJS.AlphaBitmapFilter,"TYPE_BRIGHTNESS","brightness");c0(ASJS,"GrayscaleBitmapFilter",ASJS.AbstractBitmapFilter,function(b){var a={};b.execute=function(c){var d=c.data;var e=new ASJS.Color();var i=d.length;while((i-=4)>-1){if(d[i+3]===0)continue;e.set(d[i],d[i+1],d[i+2]);var f=ASJS.Color.colorToRgbHex(e);if(!a[f])a[f]=0.2126*e.r+0.7152*e.g+0.0722*e.b;d[i]=d[i+1]=d[i+2]=a[f]};a={};e.destruct();e=null;return c}});c0(ASJS,"PixelateBitmapFilter",ASJS.AbstractBitmapFilter,function(n){n.new=function(m){n.value=m};n.execute=function(o){var d=o.data;var l=n.value;var w=o.width;var h=o.height;var f=4*l;var i=d.length;var p=new ASJS.Point();while((i-=f)>-1){var q=_m.floor(i/4);p.x=_m.floor(q%w);p.y=_m.floor(q/w);if(p.x%l>0)i=i-p.x*4-f;else if((p.y%l)===0){var x;var y;var r=0;var g=0;var b=0;var a=0;var j=_m.min(w-p.x,l);var k=_m.min(h-p.y,l);x=j;while(x--){y=k;while(y--){var e=i+y*4*w+x*4;r+=d[e];g+=d[e+1];b+=d[e+2];a+=d[e+3]}};var c=j*k;r=_m.round(r/c);g=_m.round(g/c);b=_m.round(b/c);a=_m.round(a/c);x=j;while(x--){y=k;while(y--){var e=i+y*4*w+x*4;d.set([r,g,b,a],e)}}}};p.destruct();p=null;return o}});c0(ASJS,"BrightnessBitmapFilter",ASJS.AbstractBitmapFilter,function(a){a.new=function(c){a.adjustment=c};a.execute=function(b){var d=b.data;var i=d.length;while((i-=4)>-1){d[i+3]>0&&d.set([a.adjustment,a.adjustment,a.adjustment],i)};return b}});c3(ASJS,"BlendMode");cnst(ASJS.BlendMode,"SOURCE_OVER","source-over");cnst(ASJS.BlendMode,"SOURCE_IN","source-in");cnst(ASJS.BlendMode,"SOURCE_OUT","source-out");cnst(ASJS.BlendMode,"SOURCE_ATOP","source-atop");cnst(ASJS.BlendMode,"DESTINATION_OVER","destination-over");cnst(ASJS.BlendMode,"DESTINATION_IN","destination-in");cnst(ASJS.BlendMode,"DESTINATION_OUT","destination-out");cnst(ASJS.BlendMode,"DESTINATION_ATOP","destination-atop");cnst(ASJS.BlendMode,"LIGHTER","lighter");cnst(ASJS.BlendMode,"COPY","copy");cnst(ASJS.BlendMode,"XOR","xor");cnst(ASJS.BlendMode,"MULTIPLY","multiply");cnst(ASJS.BlendMode,"SCREEN","screen");cnst(ASJS.BlendMode,"OVERLAY","overlay");cnst(ASJS.BlendMode,"DARKEN","darken");cnst(ASJS.BlendMode,"LIGHTEN","lighten");cnst(ASJS.BlendMode,"COLOR_DODGE","color-dodge");cnst(ASJS.BlendMode,"COLOR_BURN","color-burn");cnst(ASJS.BlendMode,"HARD_LIGHT","hard-light");cnst(ASJS.BlendMode,"SOFT_LIGHT","soft-light");cnst(ASJS.BlendMode,"DIFFERENCE","difference");cnst(ASJS.BlendMode,"EXCLUSION","exclusion");cnst(ASJS.BlendMode,"HUE","hue");cnst(ASJS.BlendMode,"SATURATION","saturation");cnst(ASJS.BlendMode,"COLOR","color");cnst(ASJS.BlendMode,"LUMINOSITY","luminosity");c0(ASJS,"CellDataVo",ASJS.BaseClass,function(b){b.new=function(a){var d=a||{};b.id=d.id}});c0(ASJS,"Cell",ASJS.Sprite,function(b,c){var a={};var f=!1;b.new=function(){c.new("li");b.setCSS("position","relative");b.mouseChildren=!1;b[on]("click",d)};ASJS.Tag.attrProp(b,"name");prop(b,"checked",{get:function(){return f},set:function(v){f=v}});prop(b,"data",{get:function(){return a},set:function(v){a=v;if(a.id)b.id=a.id;b.showData()}});b.render=function(){};b.showData=function(){};b.destruct=function(){a=f=null;c.destruct()};function d(e){b[de](ASJS.Cell.CLICK,{ctrlKey:e.ctrlKey,shiftKey:e.shiftKey})}});msg(ASJS.Cell,"CLICK");c0(ASJS,"CustomList",ASJS.Sprite,function(n,m){var r=!1;var k=ASJS.Cell;var t=0;var u=new ASJS.Sprite("ul");var g="";n.new=function(){m.new();u[on](ASJS.Cell.CLICK,q);n.addChild(u);m.prot.lock()};get(n,"length",function(){return u.numChildren});set(n,"cell",function(v){k=v});prop(n,"multiselect",{get:function(){return r},set:function(v){r=v}});prop(n,"selected",{get:function(){var v=[];var i=n.length;while(i--){var f=n.getCellAt(i);f.checked&&v.unshift(f)};return v},set:function(v){n.clearSelection();var j=n.multiselect?v.length:1;var l=n.length;var i;while(j--){i=l;while(i--){if(i===v[j])n.getCellAt(i).checked=!0}}}});prop(n,"name",{get:function(){return g},set:function(v){g=v;var i=n.length;while(i--)n.getCellAt(i).name=g}});n.clearSelection=function(){var i=n.length;while(i--)n.getCellAt(i).checked=!1};n.clearList=function(){while(n.length)u.removeChildAt(0)};n.setList=function(s){n.clearList();var i=s.length;while(i--)n.addItemAt(s[i],0)};n.getList=function(){var c=[];var i=n.length;while(i--)c.unshift(n.getItemAt(i));return c};n.getCellAt=function(h){return h<0||h>=n.length?null:u.getChildAt(h)};n.getItemAt=function(h){var b=n.getCellAt(h);return b?b.data:null};n.getCellById=function(a){var i=n.length;while(i--){var b=n.getCellAt(i);if(b.id===a)return b};return null};n.getItemById=function(a){var b=n.getCellById(a);return b?b.data:null};n.addItem=function(p){var b=new k();b.name=g;b.data=p;return u.addChild(b)};n.addItemAt=function(p,h){return u.setChildIndex(n.addItem(p),h)};n.removeCell=function(b){if(!b||!u.contains(b))return;u.removeChild(b)};n.removeCellById=function(a){n.removeCell(n.getCellById(a))};n.render=function(){var i=n.length;while(i--){var b=n.getCellAt(i);b.setSize(n.width,n.height);b.render()}};n.destruct=function(){m.prot.unlock();u.destruct();u=r=k=t=g=null;m.destruct()};function q(e){var b=u.getChildByDOMObject(e.target);if(!b)return;if(!n.multiselect||(!e.detail.ctrlKey&&!e.detail.shiftKey))n.clearSelection();b.checked=e.detail.ctrlKey?!b.checked:!0;var o=u.getChildIndex(b);if(n.multiselect&&!e.detail.ctrlKey&&e.detail.shiftKey){var i=_m.abs(o-t);var d=o>t?-1:1;while(i--){b=n.getCellAt(o+((i+1)*d));b.checked=!0}};t=o;n[de](ASJS.CustomList.CHANGE)}});msg(ASJS.CustomList,"CHANGE");c0(ASJS,"AbstractFilter",ASJS.BaseClass,function(b){b.new=function(a){b.value=a};b.execute=function(){}});c0(ASJS,"SaturateFiler",ASJS.AbstractFilter,function(a){a.execute=function(){return"saturate("+a.value+"%)"}});c0(ASJS,"InvertFilter",ASJS.AbstractFilter,function(a){a.execute=function(){return"invert("+a.value+"%)"}});c0(ASJS,"DropShadowFilter",ASJS.AbstractFilter,function(c){c.new=function(h,v,a,d,b){c.h=h||0;c.v=v||0;c.blur=a||0;c.spread=d||0;c.color=b||"#000000"};c.execute=function(){return"drop-shadow("+c.h+"px "+c.v+"px "+c.blur+"px "+c.spread+"px "+c.color+")"}});c0(ASJS,"ContrastFilter",ASJS.AbstractFilter,function(a){a.execute=function(){return"contrast("+a.value+"%)"}});c0(ASJS,"BlurFilter",ASJS.AbstractFilter,function(a){a.execute=function(){return"blur("+a.value+"px)"}});c0(ASJS,"GrayscaleFilter",ASJS.AbstractFilter,function(a){a.execute=function(){return"grayscale("+a.value+"%)"}});c0(ASJS,"SepiaFilter",ASJS.AbstractFilter,function(a){a.execute=function(){return"sepia("+a.value+"%)"}});c0(ASJS,"HueRotateFilter",ASJS.AbstractFilter,function(a){a.execute=function(){return"hue-rotate("+a.value+"deg)"}});c0(ASJS,"BrightnessFilter",ASJS.AbstractFilter,function(a){a.execute=function(){return"brightness("+a.value+"%)"}});c0(ASJS,"Easing",ASJS.BaseClass,function(n,p){var s=ASJS.Cycler.instance;var x;var e;var i;var r;var j;var q;var f;var l;var w;var z;var B;n.new=function(){n.stop()};n.stop=function(){x=!1;s.removeCallback(m)};n.play=function(o,a,u,h,y,A){r=o;j={};q={};f=a;l=h;w=_m.round(u/(1000/s.fps));z=y;B=A;map(f,function(k,g){j[k]=r[k];q[k]=g-j[k]});if(!ASJS.Easing[l])l="linearTween";v()};n.destruct=function(){n.stop();s=x=e=i=r=j=q=f=l=w=z=B=null;p.destruct()};function v(){if(x)return;i=1;x=!0;s.addCallback(m)};function m(){if(!x)return;if(i>=w){n.stop();map(f,function(k,g){r[k]=g});z&&z(i,w);B&&B();return};map(f,function(k){r[k]=ASJS.Easing[l](i,j[k],q[k],w)});z&&z(i,w);i++}});rof(ASJS.Easing,"linearTween",function(t,b,c,d){return c*t/d+b});rof(ASJS.Easing,"easeInQuad",function(t,b,c,d){t/=d;return c*t*t+b});rof(ASJS.Easing,"easeOutQuad",function(t,b,c,d){t/=d;return-c*t*(t-2)+b});rof(ASJS.Easing,"easeInOutQuad",function(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t+b;t--;return-c/2*(t*(t-2)-1)+b});rof(ASJS.Easing,"easeInCubic",function(t,b,c,d){t/=d;return c*t*t*t+b});rof(ASJS.Easing,"easeOutCubic",function(t,b,c,d){t/=d;t--;return c*(t*t*t+1)+b});rof(ASJS.Easing,"easeInOutCubic",function(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t*t+b;t-=2;return c/2*(t*t*t+2)+b});rof(ASJS.Easing,"easeInQuart",function(t,b,c,d){t/=d;return c*t*t*t*t+b});rof(ASJS.Easing,"easeOutQuart",function(t,b,c,d){t/=d;t--;return-c*(t*t*t*t-1)+b});rof(ASJS.Easing,"easeInOutQuart",function(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t*t*t+b;t-=2;return-c/2*(t*t*t*t-2)+b});rof(ASJS.Easing,"easeInQuint",function(t,b,c,d){t/=d;return c*t*t*t*t*t+b});rof(ASJS.Easing,"easeOutQuint",function(t,b,c,d){t/=d;t--;return c*(t*t*t*t*t+1)+b});rof(ASJS.Easing,"easeInOutQuint",function(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t*t*t*t+b;t-=2;return c/2*(t*t*t*t*t+2)+b});rof(ASJS.Easing,"easeInSine",function(t,b,c,d){return-c*_m.cos(t/d*(_m.PI/2))+c+b});rof(ASJS.Easing,"easeOutSine",function(t,b,c,d){return c*_m.sin(t/d*(_m.PI/2))+b});rof(ASJS.Easing,"easeInOutSine",function(t,b,c,d){return-c/2*(_m.cos(_m.PI*t/d)-1)+b});rof(ASJS.Easing,"easeInExpo",function(t,b,c,d){return c*_m.pow(2,10*(t/d-1))+b});rof(ASJS.Easing,"easeOutExpo",function(t,b,c,d){return c*(-_m.pow(2,-10*t/d)+1)+b});rof(ASJS.Easing,"easeInOutExpo",function(t,b,c,d){t/=d/2;if(t<1)return c/2*_m.pow(2,10*(t-1))+b;t--;return c/2*(-_m.pow(2,-10*t)+2)+b});rof(ASJS.Easing,"easeInCirc",function(t,b,c,d){t/=d;return-c*(_m.sqrt(1-t*t)-1)+b});rof(ASJS.Easing,"easeOutCirc",function(t,b,c,d){t/=d;t--;return c*_m.sqrt(1-t*t)+b});rof(ASJS.Easing,"easeInOutCirc",function(t,b,c,d){t/=d/2;if(t<1)return-c/2*(_m.sqrt(1-t*t)-1)+b;t-=2;return c/2*(_m.sqrt(1-t*t)+1)+b});c0(ASJS,"AbstractMediaPlayer",ASJS.Sprite,function(b,c){b.new=function(a){c.new(a);b.controls=!1;b.preload="auto"};get(b,"buffered",function(){return b.el.buffered});get(b,"controller",function(){return b.el.controller});get(b,"currentSrc",function(){return b.el.currentSrc});get(b,"duration",function(){return b.el.duration});get(b,"ended",function(){return b.el.ended});get(b,"error",function(){return b.el.error});get(b,"networkState",function(){return b.el.networkState});get(b,"paused",function(){return b.el.paused});get(b,"played",function(){return b.el.played});get(b,"readyState",function(){return b.el.readyState});get(b,"seekable",function(){return b.el.seekable});get(b,"seeking",function(){return b.el.seeking});get(b,"startDate",function(){return b.el.startDate});get(b,"textTracks",function(){return b.el.textTracks});prop(b,"controls",{get:function(){return b.el.controls},set:function(v){b.el.controls=v}});prop(b,"preload",{get:function(){return b.el.preload},set:function(v){b.el.preload=v}});prop(b,"muted",{get:function(){return b.el.muted},set:function(v){b.el.muted=v}});prop(b,"loop",{get:function(){return b.el.loop},set:function(v){b.el.loop=v}});prop(b,"autoplay",{get:function(){return b.el.autoplay},set:function(v){b.el.autoplay=v}});prop(b,"src",{get:function(){return b.el.src},set:function(v){b.el.src=v}});prop(b,"crossOrigin",{get:function(){return b.el.crossOrigin},set:function(v){b.el.crossOrigin=v}});prop(b,"currentTime",{get:function(){return b.el.currentTime},set:function(v){b.el.currentTime=v}});prop(b,"defaultMuted",{get:function(){return b.el.defaultMuted},set:function(v){b.el.defaultMuted=v}});prop(b,"defaultPlaybackRate",{get:function(){return b.el.defaultPlaybackRate},set:function(v){b.el.defaultPlaybackRate=v}});prop(b,"mediaGroup",{get:function(){return b.el.mediaGroup},set:function(v){b.el.mediaGroup=v}});prop(b,"playbackRate",{get:function(){return b.el.playbackRate},set:function(v){b.el.playbackRate=v}});prop(b,"volume",{get:function(){return b.el.volume},set:function(v){b.el.volume=v}});b.play=function(){b.el.play()};b.pause=function(){b.el.pause()};b.load=function(){b.el.load()};b.unload=function(){b.clear();b.removeAttr("src")}});cnst(ASJS.AbstractMediaPlayer,"PRELOAD_NONE","none");cnst(ASJS.AbstractMediaPlayer,"PRELOAD_AUTO","auto");cnst(ASJS.AbstractMediaPlayer,"PRELOAD_METADATA","metadata");c0(ASJS,"VideoPlayer",ASJS.AbstractMediaPlayer,function(a,b){a.new=b.new.bind(a,"video");prop(a,"poster",{get:function(){return a.el.poster},set:function(v){a.el.poster=v}})});c0(ASJS,"Source",ASJS.Tag,function(c,d){c.new=function(a,b){d.new("source");c.src=a;c.type=b};ASJS.Tag.attrProp(c,"type");ASJS.Tag.attrProp(c,"src")});cnst(ASJS.Source,"TYPE_AUDIO_MP3","audio/mpeg");cnst(ASJS.Source,"TYPE_AUDIO_OGG","audio/ogg");cnst(ASJS.Source,"TYPE_AUDIO_WAV","audio/wav");cnst(ASJS.Source,"TYPE_VIDEO_MP4","video/mp4");cnst(ASJS.Source,"TYPE_VIDEO_OGG","video/ogg");cnst(ASJS.Source,"TYPE_VIDEO_WEBM","video/webm");c0(ASJS,"VideoTrack",ASJS.Tag,function(a,b){a.new=b.new.bind(a,"track");ASJS.Tag.attrProp(a,"src");ASJS.Tag.attrProp(a,"kind");ASJS.Tag.attrProp(a,"label");ASJS.Tag.attrProp(a,"srclang")});cnst(ASJS.VideoTrack,"KIND_CAPTIONS","captions");cnst(ASJS.VideoTrack,"KIND_CHAPTERS","chapters");cnst(ASJS.VideoTrack,"KIND_DESCRIPTIONS","descriptions");cnst(ASJS.VideoTrack,"KIND_METADATA","metadata");cnst(ASJS.VideoTrack,"KIND_SUBTITLES","subtitles");c0(ASJS,"AudioPlayer",ASJS.AbstractMediaPlayer,function(a,b){a.new=b.new.bind(a,"audio")});c0(ASJS,"Form",ASJS.Sprite,function(a,b){a.new=b.new.bind(a,"form");ASJS.Tag.attrProp(a,"action");ASJS.Tag.attrProp(a,"method");ASJS.Tag.attrProp(a,"enctype");a.reset=function(){a.el.reset()};a.submit=function(){a.el.submit()}});cnst(ASJS.Form,"ENCTYPE_MULTIPART","multipart/form-data");c0(ASJS,"FormElement",ASJS.Sprite,function(b,c){b.new=function(a){c.new(a);b.tabindex="auto"};ASJS.Tag.attrProp(b,"name")});c0(ASJS,"AbstractTextElement",ASJS.FormElement,function(c,d){var h;var j=new ASJS.Tag();c.new=function(a){d.new(a);c[on]("change",e);c[on]("input",e)};prop(c,"readonly",{get:c.getAttr.bind(c,"readonly"),set:function(v){v?c.setAttr("readonly","readonly"):c.removeAttr("readonly")}});prop(c,"placeholder",{get:c.getAttr.bind(c,"placeholder"),set:function(v){j.html=v;c.setAttr("placeholder",j.text)}});prop(c,"val",{get:function(){return c.el.value},set:function(v){c.el.value=v}});ASJS.Tag.attrProp(c,"maxChar","maxLength");prop(c,"restrict",{get:function(){return h},set:function(v){h=v}});prop(c,"autofocus",{get:c.getAttr.bind(c,"autofocus"),set:function(v){v?c.setAttr("autofocus","autofocus"):c.removeAttr("autofocus")}});c.destruct=function(){j.destruct();h=j=null;d.destruct()};var e=i;function i(){if(emp(h))return;var f=0;if(_d.selection){var b=_d.selection.createRange();b.moveStart('character',-c.el.value.length);f=b.text.length}else if(c.el.selectionStart||c.el.selectionStart==='0'){f=c.el.selectionStart};var g=c.val.replace(new RegExp("(?!"+h+").","g"),'');if(g===c.val)return;c.val=g;if(_d.selection){var b=_d.selection.createRange();b.move('character',f-1)}else if(c.el.selectionStart){c.el.setSelectionRange(f-1,f-1)}}});c0(ASJS,"TextArea",ASJS.AbstractTextElement,function(a,b){a.new=b.new.bind(a,"textarea")});c0(ASJS,"FileSelector",ASJS.FormElement,function(a,b){b.prot.fileInput=new ASJS.DisplayObject("input");var d=new ASJS.Sprite();a.new=function(){b.new();b.prot.fileInput.setAttr("type","file");b.prot.fileInput[on]("change",b.prot.onChange);b.prot.fileInput.visible=!1;a.addChild(b.prot.fileInput);d.setSize("100%","100%");d.move(0,0);a.addChild(d);a[on]("click",c)};get(a,"preview",function(){return d});get(a,"val",function(){return b.prot.fileInput.el.value});get(a,"fileInput",function(){return _fileInput});set(a,"enabled",function(v){b.enabled=b.prot.fileInput.enabled=v});prop(a,"name",{get:b.prot.fileInput.getAttr.bind(b.prot.fileInput,"name"),set:b.prot.fileInput.setAttr.bind(b.prot.fileInput,"name")});a.destruct=function(){b.prot.fileInput.destruct();d.destruct();b.prot.fileInput=d=null;b.destruct()};b.prot.onChange=function(){d.text=a.val;a[de](ASJS.FileSelector.ON_CHANGE)};function c(e){if(e.target===b.prot.fileInput.el)return;b.prot.fileInput.el.click()}});msg(ASJS.FileSelector,"ON_CHANGE");c0(ASJS,"DropDown",ASJS.FormElement,function(a,b){var c=new ASJS.Sprite("select");a.new=function(){b.new();a.setCSS("overflow","hidden");a.addChild(c)};get(a,"select",function(){return c});set(a,"enabled",function(v){b.enabled=c.enabled=v;a.render()});prop(a,"name",{get:c.getAttr.bind(c,"name"),set:c.setAttr.bind(c,"name")});prop(a,"val",{get:function(){return c.el.value},set:function(v){c.el.value=v}});a.clearOptions=c.clear;a.setOptions=function(d){a.clearOptions();var i=d.length;while(i--)a.addOptionAt(d[i],0)};a.addOption=c.addChild;a.addOptionAt=c.addChildAt;a.render=function(){c.setSize(a.width+30,a.height)};a.destruct=function(){c.destruct();c=null;b.destruct()}});c0(ASJS,"DropDownOption",ASJS.Tag,function(c,d){c.new=function(a,b,e,f){d.new("option");c.value=a||0;c.label=b||"";c.disabled=e||!1;c.selected=f||!1};ASJS.Tag.attrProp(c,"value");prop(c,"label",{get:function(){return c.text},set:function(v){c.text=v}});prop(c,"selected",{get:c.getAttr.bind(c,"selected"),set:function(v){v?c.setAttr("selected","selected"):c.removeAttr("selected")}});prop(c,"disabled",{get:c.getAttr.bind(c,"disabled"),set:function(v){v?c.setAttr("disabled","disabled"):c.removeAttr("disabled")}})});c0(ASJS,"Checkbox",ASJS.FormElement,function(a,b){var d=new ASJS.DisplayObject("input");var c=new ASJS.DisplayObject();a.new=function(){b.new("label");d.setAttr("type","checkbox");d.visible=!1;a.addChild(d);c.setSize("100%","100%");c.enabled=!1;a.addChild(c)};get(a,"label",function(){return c});get(a,"checkbox",function(){return d});set(a,"enabled",function(v){b.enabled=d.enabled=v});prop(a,"name",{get:d.getAttr.bind(d,"name"),set:d.setAttr.bind(d,"name")});prop(a,"checked",{get:function(){return d.el.checked},set:function(v){d.el.checked=v;d[de]("change")}});a.destruct=function(){d.destruct();c.destruct();d=c=null;b.destruct()}});c0(ASJS,"TextInput",ASJS.AbstractTextElement,function(a,b){a.new=function(){b.new("input");a.type="text"};ASJS.Tag.attrProp(a,"type")});cnst(ASJS.TextInput,"TYPE_TEXT","text");cnst(ASJS.TextInput,"TYPE_PASSWORD","password");cnst(ASJS.TextInput,"TYPE_EMAIL","email");cnst(ASJS.TextInput,"TYPE_NUMBER","number");c0(ASJS,"RadioButton",ASJS.FormElement,function(a,b){var c=new ASJS.DisplayObject("input");var d=new ASJS.DisplayObject();a.new=function(){b.new("label");c.setAttr("type","radio");c.visible=!1;a.addChild(c);d.setSize("100%","100%");d.enabled=!1;a.addChild(d)};get(a,"radio",function(){return c});set(a,"enabled",function(v){b.enabled=c.enabled=v});prop(a,"name",{get:function(){return c.getAttr("name")},set:function(v){c.setAttr("name",v)}});prop(a,"checked",{get:function(){return c.el.checked},set:function(v){c.el.checked=v;v&&c.el.change()}});prop(a,"val",{get:function(){return c.value},set:function(v){c.value=v}});a.destruct=function(){c.destruct();d.destruct();c=d=null;b.destruct()}});c0(ASJS,"ImageSelector",ASJS.FileSelector,function(a,b){var d=new FileReader();a.new=function(){b.new();d.onload=f};b.prot.onChange=function(){var c=b.prot.fileInput.el;if(c.files&&c.files[0]){a[de](ASJS.ImageSelector.ON_CHANGE_START);d.readAsDataURL(c.files[0])}};a.destruct=function(){d=null;b.destruct()};function f(e){a.preview.setCSS('background-image','url('+e.target.result+')');a[de](ASJS.FileSelector.ON_CHANGE)}});msg(ASJS.ImageSelector,"ON_CHANGE_START");c0(ASJS,"Button",ASJS.FormElement,function(a,b){a.new=function(){b.new("input");a.setAttr("type","button")};ASJS.Tag.attrProp(a,"label","value");prop(a,"submit",{get:function(){return a.getAttr("type")==="submit"},set:function(v){a.setAttr("type",v?"submit":"button")}})});