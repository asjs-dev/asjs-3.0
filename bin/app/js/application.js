(function(){var $=['ON_SHOW_EXTERNAL_APPLICATION','ON_SHOW_NOTIFICATION_WINDOW','ExternalApplicationMediator','NotificationWindowMediator','removeExternalApplication','addExternalApplication','NotificationWindowData','AbstractViewMediator','AbstractAnimatedView','supportedLanguages','removeEventListener','selectedLanguage','addEventListener','selectedLanguage','sendNotification','defaultLanguage','cancelCallback','ContentMediator','AbstractCommand','dispatchEvent','setUrlParams','LoaderEvent','removeChild','stageHeight','MouseEvent','addHandler','animateTo','addChild','instance','Language','addClass','destruct','content'];var NS={};var ASJSUtils=ASJSUtils||{};c1(ASJSUtils,"Language",ASJS.AbstractModel,function(d){get(d,"supportedLanguages",function(){return d.get("supportedLanguages")});get(d,"selectedLanguage",function(){return d.get("selectedLanguage")});get(d,"defaultLanguage",function(){return d.get("defaultLanguage")});d.getText=function(k,o){var i=d.get("elements")[k];if(!emp(i)&&(!emp(i[d[$[13]]])||!emp(i[d[$[15]]]))){var b=i[d[$[13]]]||i[d[$[15]]];if(o){map(o,function(a,c){b=b.replace("{{"+a+"}}",c)})};return b};console.warn("Missing translation:",k);return k}});c1(ASJSUtils,"Config",ASJS.AbstractModel);c0(ASJSUtils,"LoadJSONServiceCommand",ASJS[$[18]],function(c,d){var b=new ASJS.Promise();var f=new ASJS.Loader();c.new=function(){f.responseType="json";f.compressed=!0;f.method=ASJS.RequestMethod.GET;f[$[12]](ASJS[$[21]].LOAD,e);f[$[12]](ASJS[$[21]].ERROR,g)};c.execute=function(a){f.load(a+"?v=200919141134");return b};ovrd(c,d,"destruct");c[$[31]]=function(){f[$[31]]();b[$[31]]();f=b=null;d[$[31]]()};function e(){b.resolve(f[$[32]]);c[$[31]]()};function g(){b.reject(f[$[32]]);c[$[31]]()}});c0(ASJSUtils,"LoadStartupDataCommand",ASJS[$[18]],function(d,e){var b;d.new=function(){b=new ASJS.Promise()};d.execute=function(){i();return b};ovrd(d,e,"destruct");d[$[31]]=function(){b[$[31]]();b=null;e[$[31]]()};function i(){g("config.dat",function(f){ASJSUtils.Config[$[28]].data=f;k()})};function k(){g("language.dat",function(f){ASJSUtils[$[29]][$[28]].data=f;l()})};function l(){b.resolve();d[$[31]]()};function g(a,h){(new ASJSUtils.LoadJSONServiceCommand()).execute("data/"+a).then(h).catch(j)};function j(c){b.reject();d[$[31]]();throw new Error("JSON load error")}});c1(ASJSUtils,"URLParser",BaseClass,function(e){var p=null;var n=null;e.getUrlParams=function(){return o()};e.getQueryParams=function(){return o().query};e.getHashParams=function(){return o().hash};e.getQueryParam=function(d){return e.getQueryParams()[d]};e.getHashParam=function(d){return e.getHashParams()[d]};e.getParsedPath=function(){return o().base.split("/")};e[$[20]]=function(l,j){var h=l.base;if(Object.keys(l.query).length>0)h+="?"+t(l.query);if(Object.keys(l.hash).length>0)h+="#"+t(l.hash);if(j)window.location.href=h;else window.history.pushState("","",h)};e.setQueryParams=function(r,j){var l=o();l.query=r;e[$[20]](l,j)};e.setHashParams=function(q,j){var l=o();l.hash=q;e[$[20]](l,j)};function t(l){var s="";for(var k in l)s+=(s!==""?"&":"")+k+"="+l[k];return s};function o(){if(n===null||p!==decodeURIComponent(location.href)){p=decodeURIComponent(location.href);n={"base":"","hash":{},"query":{}};var c="base";var a="";var m=!1;var f=p.split(/([\?#=&])/g);for(var i=0,l=f.length;i<l;++i){var b=f[i];var g=i+1>=l;if(["&","?","#"].indexOf(b)>-1&&!g){if(b==="?")c="query";else if(b==="#")c="hash";if(c!=="base"){a=f[++i];m=a.length>=3&&a.indexOf("[]")===a.length-2;if(m)a=a.slice(0,a.length-2)}}else if(c==="base")n[c]+=b;else if(b==="="&&!g){if(m){if(n[c][a]===undefined)n[c][a]=[];n[c][a].push(f[++i])}else n[c][a]=f[++i]}}};return clone(n)}});c3(ASJSUtils,"Cookies");rof(ASJSUtils.Cookies,"createCookie",function(n,v,d){if(d){var b=new Date();b.setTime(b.getTime()+(d*86400000));var f="; expires="+b.toGMTString()}else var f="";document.cookie=n+"="+v+f+"; path=/";try{!emp(Storage)&&localStorage.setItem(n,v)}catch(e){trc(e)}});rof(ASJSUtils.Cookies,"readCookie",function(n){var e=n+"=";var a=document.cookie.split(';');var i=-1;var l=a.length;while(++i<l){var c=a[i];while(c.charAt(0)===' ')c=c.substring(1,c.length);if(c.indexOf(e)===0)return c.substring(e.length,c.length)};try{if(!emp(Storage))return localStorage.getItem(n)}catch(e){trc(e)};return null});rof(ASJSUtils.Cookies,"eraseCookie",function(n){_scope.createCookie(n,"",-1);try{!emp(Storage)&&localStorage.removeItem(n)}catch(e){trc(e)}});c0(NS,"EnvironmentCommand",ASJS[$[18]],function(b,c){var f=ASJSUtils[$[29]][$[28]];var e=ASJSUtils.Cookies;var d=ASJSUtils.Config[$[28]];var g=ASJSUtils.URLParser[$[28]];b.execute=function(){i();h()};function i(){function k(a){return emp(a)||!inArray(f[$[9]],a)?null:a};var l=k(g.getQueryParam('lang'))||k(e.readCookie('language'))||k((navigator.language||navigator.userLanguage).split("-")[0])||f[$[13]];f.set("selectedLanguage",l);e.createCookie('language',f[$[13]]);document.title=f.getText("title")};function h(){stage[$[12]](ASJS.Stage.RESIZE,j)};var j=tfu(function(){c.prot[$[14]](ASJS.Stage.RESIZE)})});c0(ASJSUtils,"AbstractAnimatedView",ASJS.AbstractView,function(c,d){var h;ovrd(c,d,"new");c.new=function(){d.new();c[$[12]](ASJS.Stage.ADDED_TO_STAGE,e);c[$[12]](ASJS.AnimationEvent.TRANSITION_END,f);c[$[30]]("abstract-view animate")};d.prot[$[26]]=function(a,g){h=g;c.alpha=bw(0,1,a)};c.hide=d.prot[$[26]].bind(c,0);ovrd(c,d,"destruct");c[$[31]]=function(){h=null;d[$[31]]()};function e(b){if(b.target!==c.el)return;c.alpha=0;requestAnimationFrame(function(){d.prot[$[26]](1)})};function f(b){if(b.target!==c.el)return;h&&h();h=null}});c0(NS,"ExternalApplicationView",ASJSUtils[$[8]],function(a,b){var e=ASJSUtils[$[29]][$[28]];var c=ASJS.Mouse[$[28]];var f=new ASJS.Sprite();var d=new ASJS.Label();var g=new ASJS.DisplayObject();var k=new ASJS.Sprite();var j;ovrd(a,b,"new");a.new=function(){b.new();a[$[30]]("external-application-view");a.setCSS("position","fixed");f[$[30]]("container");a[$[27]](f);d[$[30]]("title-label");f[$[27]](d);g[$[30]]("close-button");g[$[12]](ASJS[$[24]].CLICK,h);f[$[27]](g);k[$[30]]("external-application-container");f[$[27]](k)};set(a,"title",function(v){d.text=v});a[$[5]]=function(i){a[$[4]]();j=new i();j[$[12]](ASJS[$[21]].LOAD,function(){j[$[10]](ASJS[$[21]].LOAD);a.title=j.title});k[$[27]](j);a.render()};a[$[4]]=function(){if(!j)return;k[$[22]](j);j[$[31]]();j=null};function h(){b.prot[$[26]](0,function(){a[$[19]](NS[$[2]].CLOSE)})}});c0(NS,"ExternalApplicationMediator",ASJS[$[7]],function(c,d){var b=d.prot.view=new NS.ExternalApplicationView();var h=new ASJS.ScriptLoader();ovrd(c,d,"new");c.new=function(a){d.new(a);d.prot[$[25]](NS[$[2]].SHOW,f);d.prot[$[25]](NS[$[2]].HIDE,g);b[$[12]](NS[$[2]].CLOSE,i);h[$[12]](ASJS[$[21]].LOAD,l);h[$[12]](ASJS[$[21]].PROGRESS,m)};function f(){d.prot.show();j()};function g(){d.prot.hide();k()};var i=g;function j(){k();h.compressed=!0;h.load("external/application.dat?v=200919141134")};function k(){b[$[4]]();h.cancel();h.unload()};function l(e){b[$[5]](h[$[32]]);h.unload()};function m(e){b.title=((e.detail.loaded/e.detail.total)*100)+"%"}});msg(NS[$[2]],"SHOW");msg(NS[$[2]],"HIDE");msg(NS[$[2]],"CLOSE");c0(NS,"NotificationWindowView",ASJSUtils[$[8]],function(c,d){var p={};var f=new ASJS.Scale9Grid();var j=new ASJS.Sprite();var e=new ASJS.Sprite();var g=new ASJS.Sprite();var i=new ASJS.Button();var m=new ASJS.Button();var k=new ASJS.ScrollBar();ovrd(c,d,"new");c.new=function(){d.new();c[$[30]]("notification-window-view");f[$[30]]("window");f.init("images/window.png?v=200919141134",ASJS.Rectangle.create(13,60,4,7));c[$[27]](f);j[$[30]]("container");c[$[27]](j);e[$[30]]("title-label");j[$[27]](e);g[$[30]]("content-label");k[$[30]]("scrollbar");k.horizontalAngle=k.verticalAngle=-1;k.scrollSpeed=0.15;k.container[$[30]]("animate");k.container[$[27]](g);k.verticalScrollBar[$[30]]("animate scrollbar-vertical");k.horizontalScrollBar[$[30]]("animate scrollbar-horizontal");j[$[27]](k);i[$[12]](ASJS[$[24]].CLICK,function(){c.hideWindow();!emp(p['okCallback'])&&p['okCallback']()});i[$[30]]("ok-button button");m[$[12]](ASJS[$[24]].CLICK,function(){c.hideWindow();!emp(p['cancelCallback'])&&p['cancelCallback']()});m[$[30]]("cancel-button button")};c.hideWindow=function(){d.prot[$[26]](0,function(){c[$[19]](NS[$[3]].HIDE);h();l()&&c[$[22]](i);n()&&c[$[22]](m)})};c.showWindow=function(o){h();p=o;if(tis(p.title,"string"))e.html=p.title;else if(is(p.title,ASJS.Tag))e[$[27]](p.title);if(tis(p[$[32]],"string"))g.html=p[$[32]];else if(is(p[$[32]],ASJS.Tag))g[$[27]](p[$[32]]);if(p['showOk']){i.label=p['okLabel'];!l()&&j[$[27]](i)}else l()&&j[$[22]](i);if(p['showCancel']){m.label=p['cancelLabel'];!n()&&j[$[27]](m)}else n()&&j[$[22]](m)};c.render=function(){f.setSize(bw(150,stage.stageWidth,p.width),bw(150,stage[$[23]],p.height));j.setSize(f.width,f.height);k.setSize(j.width-k.x*2,(j.height-k.y)-(l()||n()?(i.height+20):0)-25);b(p.title)&&p.title.render&&p.title.render();b(p[$[32]])&&p[$[32]].render&&p[$[32]].render();requestAnimationFrame(k.update);if(l()){i.x=n()?j.width*0.5-10-i.width:((j.width-i.width)*0.5)};if(n()){m.x=l()?j.width*0.5+10:((j.width-m.width)*0.5)}};function l(){return j.contains(i)};function n(){return j.contains(m)};function h(){if(p){b(p.title)&&e[$[22]](p.title);b(p[$[32]])&&g[$[22]](p[$[32]])};e.text=g.text=i.label=m.label=""};function b(a){return tis(a,"object")&&is(a,ASJS.Tag)}});c0(NS,"NotificationWindowMediator",ASJS[$[7]],function(e,f){var c=f.prot.view=new NS.NotificationWindowView();var j=ASJSUtils[$[29]][$[28]];var d=[];var i=!1;var m="";var o="";ovrd(e,f,"new");e.new=function(b){f.new(b);f.prot[$[25]](NS[$[3]].SHOW,g);c[$[12]](NS[$[3]].HIDE,h);m=j.getText('notification_ok_button');o=j.getText('notification_cancel_button')};function g(a){if(emp(a))a=new NS.NotificationDataVo();if(!a.okLabel)a.okLabel=m;if(!a.cancelLabel)a.cancelLabel=o;d.push(a);if(!i)l()};function h(){d.length>0?l():k()};function k(){f.prot.hide();i=!1};function l(){var n=d.shift();i=!0;c.showWindow(n);f.prot.show()}});msg(NS[$[3]],"SHOW");msg(NS[$[3]],"HIDE");c3(NS,"NotificationWindowData");rof(NS[$[6]],"create",function(){return{"title":"","content":"","showOk":!0,"showCancel":!1,"okCallback":null,"cancelCallback":null,"okLabel":null,"cancelLabel":null,"width":500,"height":200}});c0(NS,"Box",ASJS.Sprite,function(a,b){var e=ASJSUtils[$[29]][$[28]];var c=new ASJS.Label();var d=new ASJS.Button();ovrd(a,b,"new");a.new=function(){b.new();a[$[30]]("box");c.text=e.getText("new_asjs_base_site");c[$[30]]("label");a[$[27]](c);d.label=e.getText("show_notification_window");d[$[30]]("button show-notification-button");d[$[12]](ASJS[$[24]].CLICK,f);a[$[27]](d)};get(a,"label",function(){return c});function f(){a[$[19]](NS[$[17]][$[1]])}});c0(NS,"ContentView",ASJSUtils[$[8]],function(c,d){var g=ASJSUtils[$[29]][$[28]];var e=ASJS.Mouse[$[28]];var h=new ASJS.DisplayObject();var a=new NS.Box();var n=new ASJS.Button();var i=new ASJS.BlurFilter();ovrd(c,d,"new");c.new=function(){d.new();c[$[30]]("content-view");c[$[12]](ASJS.Stage.ADDED_TO_STAGE,j);c[$[12]](ASJS.Stage.REMOVED_FROM_STAGE,l);h[$[30]]("background");c[$[27]](h);c[$[27]](a);n.label=g.getText("show_external_application_button_label");n[$[30]]("button show-external-application-button");n[$[12]](ASJS[$[24]].CLICK,o);c[$[27]](n)};function j(b){if(b.target!==c.el)return;stage[$[12]](ASJS[$[24]].MOUSE_MOVE+" "+ASJS[$[24]].TOUCH_MOVE,m);c[$[12]](ASJS[$[24]].CLICK,k)};function l(){stage[$[10]]([ASJS[$[24]].MOUSE_MOVE,ASJS[$[24]].TOUCH_MOVE],m);c[$[10]](ASJS[$[24]].CLICK,k)};function m(){i.value=(Math.max(0,stage[$[23]]/(stage[$[23]]-e.mouseY))/10);h.filters=[i]};function k(){var f=a.hitTest(ASJS.Point.create(e.mouseX,e.mouseY));a.label.text=g.getText(f?"hit_test_inside":"hit_test_outside")};function o(){c[$[19]](NS[$[17]][$[0]])}});c0(NS,"ContentMediator",ASJS[$[7]],function(c,d){var b=d.prot.view=new NS.ContentView();var f=ASJSUtils[$[29]][$[28]];ovrd(c,d,"new");c.new=function(a){d.new(a);d.prot[$[25]](NS[$[17]].SHOW,e);b[$[12]](NS[$[17]][$[1]],g);b[$[12]](NS[$[17]][$[0]],i)};function e(){d.prot.show()};function g(){var h=NS[$[6]].create();h.title=f.getText("notification_title");h[$[32]]=f.getText("notification_content");h.height=230;d.prot[$[14]](NS[$[3]].SHOW,h)};function i(){d.prot[$[14]](NS[$[2]].SHOW)}});msg(NS[$[17]],"SHOW");msg(NS[$[17]],"ON_SHOW_EXTERNAL_APPLICATION");msg(NS[$[17]],"ON_SHOW_NOTIFICATION_WINDOW");c0(NS,"ViewPrepCommand",ASJS[$[18]],function(b,c){b.execute=function(a){new NS[$[17]](a);new NS[$[2]](a);new NS[$[3]](a);c.prot[$[14]](NS[$[17]].SHOW);b[$[31]]()}});c0(NS,"StartupCommand",ASJS[$[18]],function(b){b.execute=function(a){(new ASJSUtils.LoadStartupDataCommand()).execute().then(c.bind(b,a))};function c(a){(new NS.EnvironmentCommand()).execute();(new NS.ViewPrepCommand()).execute(a);b[$[31]]()}});c0(NS,"Application",BaseClass,function(a){a.new=function(){stage.clear();trc("<AS/JS> Application 3.2.0.200919141134");(new NS.StartupCommand()).execute(stage)}});ASJS.start(NS.Application);}).call({});